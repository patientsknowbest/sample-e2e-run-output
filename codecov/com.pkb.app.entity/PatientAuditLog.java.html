<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PatientAuditLog.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">E2E Tests Coverage Report</a> &gt; <a href="index.source.html" class="el_package">com.pkb.app.entity</a> &gt; <span class="el_source">PatientAuditLog.java</span></div><h1>PatientAuditLog.java</h1><pre class="source lang-java linenums">package com.pkb.app.entity;

import com.google.common.base.MoreObjects;
import com.pkb.entities.enums.AccessingEntityType;
import com.pkb.entities.enums.MenuDataType;
import com.pkb.entities.enums.Route;
import org.hibernate.annotations.Immutable;
import org.hibernate.annotations.Type;

import javax.annotation.Nullable;
import javax.persistence.Column;
import javax.persistence.Embeddable;
import javax.persistence.EmbeddedId;
import javax.persistence.Entity;
import javax.persistence.EnumType;
import javax.persistence.Enumerated;
import javax.persistence.Table;
import javax.persistence.Temporal;
import javax.persistence.TemporalType;
import java.io.Serializable;
import java.util.Date;
import java.util.UUID;

@Entity
@Immutable
@Table(name = &quot;view_audit_log_v2&quot;)
<span class="fc" id="L27">public class PatientAuditLog implements Serializable {</span>

    private static final long serialVersionUID = 8492987318118960838L;

<span class="fc" id="L31">    public enum LogType {</span>

<span class="fc" id="L33">        ACCESS, BREAK_THE_GLASS, CONSENT_CHANGE</span>
    }

    @EmbeddedId
    private AuditLogKey id;

    @Column
    private Long accessingPersonId;

    @Column
    @Enumerated(EnumType.STRING)
    private AccessingEntityType accessingEntityType;

    @Column
    @Enumerated(EnumType.STRING)
    private Route route;

    @Column
    private boolean breakTheGlassActive;

    @Column
    private Long patientPersonId;

    @Column
    @Type(type = &quot;pg-uuid&quot;)
    private UUID uniqueId;

    @Column
    @Enumerated(EnumType.STRING)
    @org.hibernate.annotations.Type(type = &quot;com.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType&quot;)
    private MenuDataType dataType;

    @Column
    private String accessingPersonName;

    @Column
    private String teamId;

    @Column
    private String teamName;

    @Column
    private Long privacyFlagsId;

    public static long getSerialVersionUID() {
<span class="nc" id="L78">        return serialVersionUID;</span>
    }

    public AuditLogKey getId() {
<span class="fc" id="L82">        return id;</span>
    }

    public Long getAccessingPersonId() {
<span class="nc" id="L86">        return accessingPersonId;</span>
    }

    public AccessingEntityType getAccessingEntityType() {
<span class="fc" id="L90">        return accessingEntityType;</span>
    }

    public Route getRoute() {
<span class="fc" id="L94">        return route;</span>
    }

    public boolean isBreakTheGlassActive() {
<span class="fc" id="L98">        return breakTheGlassActive;</span>
    }

    public Long getPatientPersonId() {
<span class="fc" id="L102">        return patientPersonId;</span>
    }

    public UUID getUniqueId() {
<span class="fc" id="L106">        return uniqueId;</span>
    }

    public MenuDataType getDataType() {
<span class="fc" id="L110">        return dataType;</span>
    }

    public String getAccessingPersonName() {
<span class="fc" id="L114">        return accessingPersonName;</span>
    }

    public String getTeamId() {
<span class="nc" id="L118">        return teamId;</span>
    }

    public String getTeamName() {
<span class="fc" id="L122">        return teamName;</span>
    }

    @Override
    public String toString() {
<span class="nc" id="L127">        return MoreObjects.toStringHelper(&quot;PatientAuditLog&quot;)</span>
<span class="nc" id="L128">                .omitNullValues()</span>
<span class="nc" id="L129">                .add(&quot;id&quot;, id)</span>
<span class="nc" id="L130">                .add(&quot;accessingPersonId&quot;, accessingPersonId)</span>
<span class="nc" id="L131">                .add(&quot;accessingEntityType&quot;, accessingEntityType)</span>
<span class="nc" id="L132">                .add(&quot;route&quot;, route)</span>
<span class="nc" id="L133">                .add(&quot;breakTheGlassActive&quot;, breakTheGlassActive)</span>
<span class="nc" id="L134">                .add(&quot;patientPersonId&quot;, patientPersonId)</span>
<span class="nc" id="L135">                .add(&quot;uniqueId&quot;, uniqueId)</span>
<span class="nc" id="L136">                .add(&quot;dataType&quot;, dataType)</span>
<span class="nc" id="L137">                .add(&quot;accessingPersonName&quot;, accessingPersonName)</span>
<span class="nc" id="L138">                .add(&quot;teamId&quot;, teamId)</span>
<span class="nc" id="L139">                .add(&quot;teamName&quot;, teamName)</span>
<span class="nc" id="L140">                .add(&quot;privacyFlagsId&quot;, privacyFlagsId)</span>
<span class="nc" id="L141">                .toString();</span>
    }

    @Override
    public int hashCode() {
<span class="nc" id="L146">        int hash = 5;</span>
<span class="nc bnc" id="L147" title="All 2 branches missed.">        hash = (83 * hash) + (this.id != null ? this.id.hashCode() : 0);</span>
<span class="nc" id="L148">        return hash;</span>
    }

    @Override
    public boolean equals(Object obj) {
<span class="nc bnc" id="L153" title="All 2 branches missed.">        if (obj == null) {</span>
<span class="nc" id="L154">            return false;</span>
        }
<span class="nc bnc" id="L156" title="All 2 branches missed.">        if (getClass() != obj.getClass()) {</span>
<span class="nc" id="L157">            return false;</span>
        }
<span class="nc" id="L159">        PatientAuditLog other = (PatientAuditLog) obj;</span>
<span class="nc bnc" id="L160" title="All 6 branches missed.">        if ((this.id != other.id) &amp;&amp; ((this.id == null) || !this.id.equals(other.id))) {</span>
<span class="nc" id="L161">            return false;</span>
        }
<span class="nc" id="L163">        return true;</span>
    }

    @Embeddable
<span class="fc" id="L167">    public static class AuditLogKey implements Serializable {</span>

        private static final long serialVersionUID = -6185994371674398669L;

        @Column
        private Long sourceId;

        @Column
        @Enumerated(EnumType.STRING)
        private LogType logType;

        @Column
        @Temporal(TemporalType.TIMESTAMP)
        private Date accessTime;

        public Long getSourceId() {
<span class="nc" id="L183">            return sourceId;</span>
        }

        public LogType getLogType() {
<span class="fc" id="L187">            return logType;</span>
        }

        public Date getAccessTime() {
<span class="fc" id="L191">            return accessTime;</span>
        }

        @Override
        public String toString() {
<span class="nc" id="L196">            return &quot;AuditLogKey{&quot; + &quot;sourceId=&quot; + sourceId + &quot;, logType=&quot; + logType + &quot;, accessTime=&quot; + accessTime + '}';</span>
        }

        @Override
        public int hashCode() {
<span class="fc" id="L201">            int hash = 3;</span>
<span class="pc bpc" id="L202" title="1 of 2 branches missed.">            hash = (83 * hash) + (this.sourceId != null ? this.sourceId.hashCode() : 0);</span>
<span class="pc bpc" id="L203" title="1 of 2 branches missed.">            hash = (83 * hash) + (this.logType != null ? this.logType.hashCode() : 0);</span>
<span class="pc bpc" id="L204" title="1 of 2 branches missed.">            hash = (83 * hash) + (this.accessTime != null ? this.accessTime.hashCode() : 0);</span>
<span class="fc" id="L205">            return hash;</span>
        }

        @SuppressWarnings({ &quot;EqualsReplaceableByObjectsCall&quot;, &quot;NumberEquality&quot; })
        @Override
        public boolean equals(Object obj) {
<span class="nc bnc" id="L211" title="All 2 branches missed.">            if (obj == null) {</span>
<span class="nc" id="L212">                return false;</span>
            }
<span class="nc bnc" id="L214" title="All 2 branches missed.">            if (getClass() != obj.getClass()) {</span>
<span class="nc" id="L215">                return false;</span>
            }
<span class="nc" id="L217">            AuditLogKey other = (AuditLogKey) obj;</span>
<span class="nc bnc" id="L218" title="All 6 branches missed.">            if ((this.sourceId != other.sourceId) &amp;&amp; ((this.sourceId == null) || !this.sourceId.equals(other.sourceId))) {</span>
<span class="nc" id="L219">                return false;</span>
            }
<span class="nc bnc" id="L221" title="All 2 branches missed.">            if (this.logType != other.logType) {</span>
<span class="nc" id="L222">                return false;</span>
            }
<span class="nc bnc" id="L224" title="All 6 branches missed.">            if ((this.accessTime != other.accessTime) &amp;&amp; ((this.accessTime == null) || !this.accessTime.equals(other.accessTime))) {</span>
<span class="nc" id="L225">                return false;</span>
            }
<span class="nc" id="L227">            return true;</span>
        }

        //setters needed for testing
        public void setSourceId(Long sourceId) {
<span class="nc" id="L232">            this.sourceId = sourceId;</span>
<span class="nc" id="L233">        }</span>

        public void setLogType(LogType logType) {
<span class="nc" id="L236">            this.logType = logType;</span>
<span class="nc" id="L237">        }</span>

        public void setAccessTime(Date accessTime) {
<span class="nc" id="L240">            this.accessTime = accessTime;</span>
<span class="nc" id="L241">        }</span>
    }

    //setters needed for testing
    public void setId(AuditLogKey id) {
<span class="nc" id="L246">        this.id = id;</span>
<span class="nc" id="L247">    }</span>

    public void setAccessingPersonId(Long accessingPersonId) {
<span class="nc" id="L250">        this.accessingPersonId = accessingPersonId;</span>
<span class="nc" id="L251">    }</span>

    public void setAccessingEntityType(AccessingEntityType accessingEntityType) {
<span class="nc" id="L254">        this.accessingEntityType = accessingEntityType;</span>
<span class="nc" id="L255">    }</span>

    public void setRoute(Route route) {
<span class="nc" id="L258">        this.route = route;</span>
<span class="nc" id="L259">    }</span>

    public void setBreakTheGlassActive(boolean breakTheGlassActive) {
<span class="nc" id="L262">        this.breakTheGlassActive = breakTheGlassActive;</span>
<span class="nc" id="L263">    }</span>

    public void setPatientPersonId(Long patientPersonId) {
<span class="nc" id="L266">        this.patientPersonId = patientPersonId;</span>
<span class="nc" id="L267">    }</span>

    public void setUniqueId(UUID uniqueId) {
<span class="nc" id="L270">        this.uniqueId = uniqueId;</span>
<span class="nc" id="L271">    }</span>

    public void setDataType(MenuDataType dataType) {
<span class="nc" id="L274">        this.dataType = dataType;</span>
<span class="nc" id="L275">    }</span>

    public void setAccessingPersonName(String accessingPersonName) {
<span class="nc" id="L278">        this.accessingPersonName = accessingPersonName;</span>
<span class="nc" id="L279">    }</span>

    public void setTeamId(String teamId) {
<span class="nc" id="L282">        this.teamId = teamId;</span>
<span class="nc" id="L283">    }</span>

    public void setTeamName(String teamName) {
<span class="nc" id="L286">        this.teamName = teamName;</span>
<span class="nc" id="L287">    }</span>

    @Nullable
    public Long getPrivacyFlagsId() {
<span class="fc" id="L291">        return privacyFlagsId;</span>
    }

    public void setPrivacyFlagsId(Long privacyFlagsId) {
<span class="nc" id="L295">        this.privacyFlagsId = privacyFlagsId;</span>
<span class="nc" id="L296">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>
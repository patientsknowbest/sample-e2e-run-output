<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ParsedObservationInformation.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">E2E Tests Coverage Report</a> &gt; <a href="index.source.html" class="el_package">com.pkb.service.dataupload.processor.domain</a> &gt; <span class="el_source">ParsedObservationInformation.java</span></div><h1>ParsedObservationInformation.java</h1><pre class="source lang-java linenums">package com.pkb.service.dataupload.processor.domain;

import com.pkb.test.UploadedDataDeletionMetadata;
import org.jetbrains.annotations.NotNull;

import java.util.List;

/**
 * Wraps an optional Filler Order Number (FON) to delete (a single FON can be linked to multiple measurements and test
 * results) along with a list of measurements or test results to be added.
 *
 * This wrapper class is needed because the UploadedDataPersister interface has historically assumed that a single
 * upload (e.g. an HL7 message) would link only to entities to be added. Deletions and corrections are not explicitly
 * handled, so callers need to find data type-specific solutions to this problem.
 *
 * For an alternative example, see how UploadedDocument contains an UploadedDocumentRequestType value to distinguish
 * between save vs delete.
 *
 * Moving to a common model would be ideal, but is not trivial because data types behave differently. For example -
 * HL7-based deletions can be based on the FON alone, even without the caller having provided the entity they wish to
 * delete in the message. This makes it tricky to simply tag on a &quot;delete&quot; flag to a list of data points.
 *
 * @param &lt;T&gt; Either MeasurementDTO or TestResultDTO
 */
public class ParsedObservationInformation&lt;T&gt; {
    private UploadedDataDeletionMetadata maybeDeletionInfo;
    private List&lt;T&gt; observations;

<span class="fc" id="L29">    public ParsedObservationInformation(@NotNull UploadedDataDeletionMetadata maybeDeletionInfo, @NotNull List&lt;T&gt; observations) {</span>
<span class="fc" id="L30">        this.maybeDeletionInfo = maybeDeletionInfo;</span>
<span class="fc" id="L31">        this.observations = observations;</span>
<span class="fc" id="L32">    }</span>

    public UploadedDataDeletionMetadata getMaybeDeletionInfo() {
<span class="fc" id="L35">        return maybeDeletionInfo;</span>
    }

    public List&lt;T&gt; getObservations() {
<span class="fc" id="L39">        return observations;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>
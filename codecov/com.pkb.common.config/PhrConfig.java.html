<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PhrConfig.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">E2E Tests Coverage Report</a> &gt; <a href="index.source.html" class="el_package">com.pkb.common.config</a> &gt; <span class="el_source">PhrConfig.java</span></div><h1>PhrConfig.java</h1><pre class="source lang-java linenums">package com.pkb.common.config;

import com.pkb.datamodel.Email;
import org.apache.commons.lang3.StringUtils;
import org.jetbrains.annotations.Nullable;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import java.lang.invoke.MethodHandles;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.time.Duration;
import java.util.List;
import java.util.Optional;
import java.util.Set;

import static com.google.common.base.Preconditions.checkState;
import static com.pkb.datamodel.ImmutableDisclosingEmail.disclosingEmail;
import static java.lang.String.format;
import static java.util.Arrays.stream;
import static java.util.Optional.empty;
import static java.util.concurrent.TimeUnit.SECONDS;
import static java.util.stream.Collectors.toList;
import static java.util.stream.Collectors.toSet;
import static org.apache.commons.lang3.StringUtils.isBlank;
import static org.apache.commons.lang3.StringUtils.isNotBlank;

public interface PhrConfig extends PkbConfig {

<span class="fc" id="L30">    Logger LOGGER = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());</span>

    String CIE_ORG_NETWORK_ID = &quot;50&quot;;

    default int getMaxBulkInvitationOutcomeReport() {
<span class="fc" id="L35">        return getConfigStorage().getInt(&quot;com.pkb.patient.invitation.maxBulkInvitationOutcomeReport&quot;, 300);</span>
    }

    default String getFromEmailAddress() {
<span class="fc" id="L39">        return getConfigStorage().getString(&quot;fromEmailAddress&quot;, &quot;&quot;);</span>
    }

    default String getFromEmailName() {
<span class="fc" id="L43">        return getConfigStorage().getString(&quot;fromEmailName&quot;, &quot;&quot;);</span>
    }

    default int getInboxPageSize() {
<span class="fc" id="L47">        return getConfigStorage().getInt(&quot;inboxPageSize&quot;);</span>
    }

    default int getPatientFilesPerPage() {
<span class="fc" id="L51">        return getConfigStorage().getInt(&quot;patientFilesPerPage&quot;);</span>
    }

    default int getPatientDiaryEntriesPerPage() {
<span class="fc" id="L55">        return getConfigStorage().getInt(&quot;patientDiaryEntriesPerPage&quot;);</span>
    }

    default String getPKBLogoURL() {
<span class="fc" id="L59">        return getConfigStorage().getString(&quot;pkbLogoURL&quot;, &quot;&quot;);</span>
    }

    default String getTestEmailId() {
<span class="nc" id="L63">        return getConfigStorage().getString(&quot;testEmailId&quot;, &quot;&quot;);</span>
    }

    default String getHelpPhone() {
<span class="fc" id="L67">        return getConfigStorage().getString(&quot;helpPhoneNumber&quot;, &quot;&quot;);</span>
    }

    default String getHelpEmailAddress() {
<span class="fc" id="L71">        return getConfigStorage().getString(&quot;helpEmailAddress&quot;, &quot;&quot;);</span>
    }

    default String getHelpWebSite() {
<span class="fc" id="L75">        return getConfigStorage().getString(&quot;helpWebSite&quot;, &quot;&quot;);</span>
    }

    /**
     * always ends with / if there's a value (enforced in this method)
     */
    default String getInstituteLogoBaseDir() {
<span class="fc" id="L82">        String baseUrl = getConfigStorage().getString(&quot;instituteLogoBaseDirectory&quot;, &quot;&quot;);</span>
<span class="pc bpc" id="L83" title="2 of 4 branches missed.">        if (isNotBlank(baseUrl) &amp;&amp; !baseUrl.endsWith(&quot;/&quot;)) {</span>
<span class="nc" id="L84">            baseUrl += &quot;/&quot;;</span>
        }
<span class="fc" id="L86">        return baseUrl;</span>
    }

    default String getPHPlanTemplateImageBaseDir() {
<span class="fc" id="L90">        return getConfigStorage().getString(&quot;pHPlanTemplateImageBaseDirectory&quot;, &quot;&quot;);</span>
    }

    default Path getImageUploadLogoBaseDirectory() {
<span class="fc" id="L94">        return Paths.get(getConfigStorage().getString(&quot;imageUploadLogoBaseDirectory&quot;, &quot;&quot;));</span>
    }

    default String getImageUploadPHPlanTemplateImageBaseDirectory() {
<span class="fc" id="L98">        return getConfigStorage().getString(&quot;imageUploadPHPlanTemplateImageBaseDirectory&quot;, &quot;&quot;);</span>
    }

    default String getHelpName() {
<span class="fc" id="L102">        return getConfigStorage().getString(&quot;helpName&quot;, &quot;&quot;);</span>
    }

    default int getRecipientColumnSize() {
<span class="fc" id="L106">        return getConfigStorage().getInt(&quot;recipientColumnSize&quot;, 3);</span>
    }

    default int getThumbnailImageWidth() {
<span class="nc" id="L110">        return getConfigStorage().getInt(&quot;thumbnailImageWidth&quot;, 400);</span>
    }

    default int getThumbnailImageHeight() {
<span class="nc" id="L114">        return getConfigStorage().getInt(&quot;thumbnailImageHeight&quot;, 400);</span>
    }

    default int getRadiologyReportExtractLength() {
<span class="nc" id="L118">        return getConfigStorage().getInt(&quot;radiologyReportExtractLength&quot;, 200);</span>
    }

    default String getThumbnailImageFormat() {
<span class="nc" id="L122">        return getConfigStorage().getString(&quot;thumbnailImageFormat&quot;, &quot;png&quot;);</span>
    }

    default boolean getSendReminderEmailsEnabled() {
<span class="fc" id="L126">        return getConfigStorage().getBoolean(&quot;sendReminderEmailsEnabled&quot;, false);</span>
    }

    default boolean isUnreadMessageReminderEnabled() {
<span class="fc" id="L130">        return getConfigStorage().getBoolean(&quot;sendUnreadMessageReminderEnabled&quot;, false);</span>
    }

    default boolean isUnreadDocumentReminderEnabled() {
<span class="fc" id="L134">        return getConfigStorage().getBoolean(&quot;sendUnreadDocumentReminderEnabled&quot;, true);</span>
    }

    default String getWithingsOauthKey() {
<span class="nc" id="L138">        return getConfigStorage().getString(&quot;withingsOauthKey&quot;, &quot;&quot;);</span>
    }

    default String getWithingsOauthSecret() {
<span class="nc" id="L142">        return getConfigStorage().getString(&quot;withingsOauthSecret&quot;, &quot;&quot;);</span>
    }

    default String getVitaDockOauthKey() {
<span class="nc" id="L146">        return getConfigStorage().getString(&quot;vitaDockOauthKey&quot;, &quot;&quot;);</span>
    }

    default String getVitaDockOauthSecret() {
<span class="nc" id="L150">        return getConfigStorage().getString(&quot;vitaDockOauthSecret&quot;, &quot;&quot;);</span>
    }

    default String getSciStoreEndpoint() {
<span class="fc" id="L154">        return getConfigStorage().getString(&quot;sciStoreEndpoint&quot;);</span>
    }

    default String getSciStoreUsername() {
<span class="fc" id="L158">        return getConfigStorage().getString(&quot;sciStoreUsername&quot;);</span>
    }

    default String getSciStorePassword() {
<span class="fc" id="L162">        return getConfigStorage().getString(&quot;sciStorePassword&quot;);</span>
    }

    default String getFakeS3Endpoint() {
<span class="fc" id="L166">        return getConfigStorage().getString(&quot;fakeS3Endpoint&quot;);</span>
    }

    default boolean isDefinedFakeS3Endpoint() {
<span class="fc" id="L170">        return StringUtils.isNotBlank(getFakeS3Endpoint());</span>
    }

    default String getFakeS3EndpointPublishedURL() {
<span class="fc" id="L174">        return getConfigStorage().getString(&quot;fakeS3EndpointPublishedURL&quot;);</span>
    }

    default int getAccessLogPageSize() {
<span class="fc" id="L178">        return getConfigStorage().getInt(&quot;accessLogPageSize&quot;);</span>
    }

    default String getCoreDevicesOrganizationId() {
<span class="fc" id="L182">        return getConfigStorage().getString(&quot;coreDevicesOrganizationId&quot;);</span>
    }

    default String getCoreDevicesAccessToken() {
<span class="fc" id="L186">        return getConfigStorage().getString(&quot;coreDevicesAccessToken&quot;);</span>
    }

    default int getSciStoreNewPatientLimit() {
<span class="fc" id="L190">        return getConfigStorage().getInt(&quot;integration.scistore.newpatientlimit&quot;, 0);</span>
    }

    default int getLatestResultsInitialThreshold() {
<span class="fc" id="L194">        return getConfigStorage().getInt(&quot;latestResultsInitialThreshold&quot;);</span>
    }

    default int getHighchartsThreshold() {
<span class="fc" id="L198">        return getConfigStorage().getInt(&quot;highchartsThreshold&quot;);</span>
    }

    default boolean isUseUTCInHighcharts() {
<span class="fc" id="L202">        return getConfigStorage().getBoolean(&quot;useUTCInHighcharts&quot;, false);</span>
    }

    default int getEmisSupportCacheSize() {
<span class="fc" id="L206">        return getConfigStorage().getInt(&quot;emis.support.cache.size&quot;, 5000);</span>
    }

    default int getEmisAdminPatientStatelessOverideCacheSize() {
<span class="fc" id="L210">        return getConfigStorage().getInt(&quot;emis.adminpatientstatelessoverride.cache.size&quot;, 10000); //approx 1MB (39chars per guid)</span>
    }

    default String getLabtestsonlineSearchURL() {
<span class="fc" id="L214">        return getConfigStorage().getString(&quot;labtestsonlineSearchURL&quot;);</span>
    }

    default String getLabtestsonlineRefURL() {
<span class="fc" id="L218">        return getConfigStorage().getString(&quot;labtestsonlineRefURL&quot;);</span>
    }

    default String getHelpTextURL() {
<span class="fc" id="L222">        return getConfigStorage().getString(&quot;helpTextURL&quot;);</span>
    }

    default String getYoutubeIsPKBSafeURL() {
<span class="fc" id="L226">        return getConfigStorage().getString(&quot;youtubeIsPKBSafeURL&quot;, &quot;https://www.youtube.com/embed/_FFYPbkYFiE&quot;);</span>
    }

    default int getFileChunkSizeInBytes() {
<span class="fc" id="L230">        return Integer.parseInt(getConfigStorage().getString(&quot;fileChunkSizeInBytes&quot;));</span>
    }

    default int getDocDeleteBatchSize() {
<span class="nc" id="L234">        return Integer.parseInt(getConfigStorage().getString(&quot;docDeleteBatchSize&quot;, &quot;20&quot;));</span>
    }

    default long getPatientBannerErrorTimeoutMillis() {
<span class="fc" id="L238">        return getConfigStorage().getLong(&quot;feature.patientbanner.errorTimeoutMillis&quot;, 21000L);</span>
    }

    default int getDocDeleteIntervalInHours() {
<span class="nc" id="L242">        return Integer.parseInt(getConfigStorage().getString(&quot;docDeleteIntervalInHours&quot;, &quot;8&quot;));</span>
    }

    default String getLibraryUploadDirectory() {
<span class="nc" id="L246">        return getConfigStorage().getString(&quot;libraryUploadBaseDirectory&quot;);</span>
    }

    default String getNonCryptoAccessKey() {
<span class="fc" id="L250">        return getConfigStorage().getString(&quot;nonCryptoAccessKey&quot;);</span>
    }

    default String getNonCryptoSecretKey() {
<span class="fc" id="L254">        return getConfigStorage().getString(&quot;nonCryptoSecretKey&quot;);</span>
    }

    default String getNonCryptoBucket() {
<span class="fc" id="L258">        return getConfigStorage().getString(&quot;nonCryptoBucket&quot;);</span>
    }

    default String getProxyHost() {
<span class="fc" id="L262">        return getConfigStorage().getString(&quot;proxyHost&quot;);</span>
    }

    default int getProxyPort() {
<span class="nc" id="L266">        return getConfigStorage().getInt(&quot;proxyPort&quot;);</span>
    }

    default String getEmisEsDownloadBaseDir() {
<span class="fc" id="L270">        return getConfigStorage().getString(&quot;emisEsDownloadBaseDir&quot;);</span>
    }

    default String getEmisEsPgpPrivateKeyFile() {
<span class="fc" id="L274">        return getConfigStorage().getString(&quot;emisEsPgpPrivateKeyFile&quot;);</span>
    }

    default String getEmisEsPgpPrivateKeyFilePassphrase() {
<span class="fc" id="L278">        return getConfigStorage().getString(&quot;emisEsPgpPrivateKeyFilePassphrase&quot;, &quot;&quot;);</span>
    }

    default String getEmisEsCsvEncoding() {
<span class="fc" id="L282">        return getConfigStorage().getString(&quot;emisEsCsvEncoding&quot;, &quot;UTF-8&quot;);</span>
    }

    default Boolean isEmisEsWhiteListEnabled() {
<span class="fc" id="L286">        return getConfigStorage().getBoolean(&quot;emisEsWhiteListEnabled&quot;, true);</span>
    }

    default int getEmisFailureGracePeriodHours() {
<span class="fc" id="L290">        return getConfigStorage().getInt(&quot;emisEsFailureGracePeriodHours&quot;);</span>
    }

    default Path getEmisEsSftpConfigYamlPath() {
<span class="fc" id="L294">        return Paths.get(getConfigStorage().getString(&quot;emisEsSftpConfigYaml&quot;));</span>
    }

    default Optional&lt;Path&gt; getEmisEsGcpConfigYamlPath() {
<span class="fc" id="L298">        return getOptionalStorageString(&quot;emisEsGcpConfigYaml&quot;);</span>
    }

    private Optional&lt;Path&gt; getOptionalStorageString(String key) {
<span class="fc" id="L302">        Optional&lt;Path&gt; result = empty();</span>

<span class="fc bfc" id="L304" title="All 2 branches covered.">        if (getConfigStorage().getString(key) != null) {</span>
<span class="fc" id="L305">            result = Optional.of(Paths.get(getConfigStorage().getString(key)));</span>

        }
<span class="fc" id="L308">        return result;</span>
    }

    default Optional&lt;Path&gt; getEmisEsWhitelistYamlPath() {
<span class="fc" id="L312">        return getOptionalStorageString(&quot;emisEsWhitelistYaml&quot;);</span>
    }

    default boolean getEmisEsFatalSeverityForUnmatchedCodingError() {
<span class="fc" id="L316">        return getConfigStorage().getBoolean(&quot;emisEsFatalSeverityForUnmatchedCodingError&quot;, true);</span>
    }

    default boolean getEnableNotWorkingInvitationError() {
<span class="fc" id="L320">        return getConfigStorage().getBoolean(&quot;enableNotWorkingInvitationError&quot;, true);</span>
    }

    default boolean getEmisEsHaltForUnexpectedSftpFiles() {
<span class="fc" id="L324">        return getConfigStorage().getBoolean(&quot;emisEsHaltForUnexpectedSftpFiles&quot;, true);</span>
    }

    default boolean isProxyConfigured() {
        try {
<span class="fc" id="L329">            String proxyHost = getProxyHost();</span>
<span class="pc bpc" id="L330" title="3 of 4 branches missed.">            if (proxyHost == null || proxyHost.trim().equals(&quot;&quot;)) {</span>
<span class="fc" id="L331">                return false;</span>
            }
<span class="nc bnc" id="L333" title="All 2 branches missed.">            return getConfigStorage().getInt(&quot;proxyPort&quot;, -1) != -1;</span>
<span class="nc" id="L334">        } catch (Exception e) {</span>
<span class="nc" id="L335">            LOGGER.error(&quot;error parsing config for proxy settings&quot;, e);</span>
<span class="nc" id="L336">            return false;</span>
        }
    }

    default boolean isUseHttpForS3() {
        try {

<span class="nc" id="L343">            return getConfigStorage().getBoolean(&quot;useHTTPForS3&quot;, false);</span>

<span class="nc" id="L345">        } catch (Exception e) {</span>

<span class="nc" id="L347">            LOGGER.error(&quot;error parsing config for S3 http(s) scheme settings&quot;, e);</span>
<span class="nc" id="L348">            return false;</span>
        }
    }

    default String getSmtpHostname() {
<span class="fc" id="L353">        return getConfigStorage().getString(&quot;smtpHostname&quot;);</span>
    }

    default int getSmtpPort() {
<span class="fc" id="L357">        return getConfigStorage().getInt(&quot;smtpPort&quot;);</span>
    }

    default String getSmtpUser() {
<span class="fc" id="L361">        return getConfigStorage().getString(&quot;smtpUser&quot;);</span>
    }

    default String getSmtpPassword() {
<span class="fc" id="L365">        return getConfigStorage().getString(&quot;smtpPassword&quot;);</span>
    }

    default String getSmtpAuth() {
<span class="fc" id="L369">        return getConfigStorage().getString(&quot;smtpAuth&quot;);</span>
    }

    default String getSmtpStartTlsEnable() {
<span class="fc" id="L373">        return getConfigStorage().getString(&quot;smtpStartTlsEnable&quot;);</span>
    }

    default String getSmtpSocketFactoryClass() {
<span class="fc" id="L377">        return getConfigStorage().getString(&quot;smtpSocketFactoryClass&quot;);</span>
    }

    default String getSmtpSocketFactoryFallback() {
<span class="fc" id="L381">        return getConfigStorage().getString(&quot;smtpSocketFactoryFallback&quot;);</span>
    }

    default long getUploadMaxFileSize() {
<span class="fc" id="L385">        return getConfigStorage().getLong(&quot;com.pkb.upload.maxFileSize&quot;, 10000000000L);</span>
    }

    default String getUploadMaxFileTextGB() {
<span class="fc" id="L389">        return getConfigStorage().getString(&quot;com.pkb.upload.maxFileTextGB&quot;, &quot;10&quot;);</span>
    }

    default long getImageUploadMaxFileSize() {
<span class="fc" id="L393">        return getConfigStorage().getLong(&quot;com.pkb.upload.maxImageFileSize&quot;, 1000000000L);</span>
    }

    default String getEmisEsJobCron() {
<span class="fc" id="L397">        return getConfigStorage().getString(&quot;emisEsJobCron&quot;);</span>
    }

    default String getSciStoreNotificationCron() {
<span class="fc" id="L401">        return getConfigStorage().getString(&quot;sciStoreNotificationCron&quot;);</span>
    }

    default String getScriStorePatientSyncCron() {
<span class="fc" id="L405">        return getConfigStorage().getString(&quot;sciStorePatientSyncCron&quot;);</span>
    }

    default String getChildBirthNotificationCron() {
<span class="fc" id="L409">        return getConfigStorage().getString(&quot;childBirthNotificationCron&quot;);</span>
    }

    default String getExpiredConsentRemoverCron() {
<span class="fc" id="L413">        return getConfigStorage().getString(&quot;expiredConsentRemoverCron&quot;);</span>
    }

    default String getSymptomsNotificationCron() {
<span class="fc" id="L417">        return getConfigStorage().getString(&quot;symptomsNotificationCron&quot;);</span>
    }

    default String getUnreadNotificationCron() {
<span class="fc" id="L421">        return getConfigStorage().getString(&quot;unreadNotificationCron&quot;);</span>
    }

    default String getImageUploadMaxFileTextGB() {
<span class="fc" id="L425">        return getConfigStorage().getString(&quot;com.pkb.upload.maxImageFileTextGB&quot;, &quot;1&quot;);</span>
    }

    default long getGeneticsUploadMaxFileSize() {
<span class="fc" id="L429">        return getConfigStorage().getLong(&quot;com.pkb.upload.maxGeneticsFileSize&quot;, 1000000000L);</span>
    }

    default String getGeneticsUploadMaxFileTextGB() {
<span class="fc" id="L433">        return getConfigStorage().getString(&quot;com.pkb.upload.maxGeneticsFileTextGB&quot;, &quot;1&quot;);</span>
    }

    default long getPlanUploadMaxFileSize() {
<span class="fc" id="L437">        return getConfigStorage().getLong(&quot;com.pkb.upload.maxPlanFileSize&quot;, 20000000L);</span>
    }

    default String getPlanUploadMaxFileTextMB() {
<span class="fc" id="L441">        return getConfigStorage().getString(&quot;com.pkb.upload.maxPlanFileTextMB&quot;, &quot;20&quot;);</span>
    }

    default boolean isEmisEsEnabled() {
<span class="fc" id="L445">        return getConfigStorage().getBoolean(&quot;feature.emis.es.enabled&quot;);</span>
    }

    /**
     * DO NOT TURN THIS ON FOR PRODUCTION!
     * This flag is only for EMIS test environments.
     * If you ever need this for production, that is going to include additional IG risks, and will require
     * discussion and some code change first.
     */
    default boolean isEmisEsDummyPatientsEnabled() {
<span class="fc" id="L455">        return getConfigStorage().getBoolean(&quot;feature.emis.es.dummyPatients.enabled&quot;, false);</span>
    }

    /**
     * DO NOT TURN THIS ON FOR PRODUCTION!
     * This flag is only for EMIS test environments.
     * If you ever need this for production, that is going to include additional IG risks, and will require
     * discussion and some code change first.
     */
    default boolean isEmisEsDummyPatientsForced() {
<span class="fc" id="L465">        return getConfigStorage().getBoolean(&quot;feature.emis.es.dummyPatients.forced&quot;, false);</span>
    }

    default boolean isBulkDisableSharingEnabled() {
<span class="fc" id="L469">        return getConfigStorage().getBoolean(&quot;feature.bulkdisablesharing.enabled&quot;, false);</span>
    }

    default String getAuthorizationEndpointAddress() {
<span class="fc" id="L473">        return getConfigStorage().getString(&quot;authorization.endpoint.address&quot;, &quot;http://localhost&quot;);</span>
    }

    default String getRestApiClientId() {
<span class="fc" id="L477">        return getConfigStorage().getString(&quot;com.pkb.api.util.DefaultInternalAccessTokenIssuer.clientId&quot;, &quot;pkb-spa-user&quot;);</span>
    }

    default @Nullable Email getEMISSSOMonitoringProfEmail() {
<span class="nc" id="L481">        String configuredValue = getConfigStorage().getString(&quot;emis.sso.monitoring.prof.email&quot;);</span>
<span class="nc bnc" id="L482" title="All 2 branches missed.">        return configuredValue == null ? null : disclosingEmail(configuredValue);</span>
    }

    default boolean isRollBarEnabled() {
<span class="fc" id="L486">        return getConfigStorage().getBoolean(&quot;feature.rollbar.enabled&quot;, false);</span>
    }

    default Optional&lt;String&gt; getRollBarEnvironment() {
        // There is no sensible default for production as we have multiple deployments.
<span class="fc" id="L491">        return getConditionalRollbarProperty(&quot;feature.rollbar.environment&quot;, &quot;environment&quot;);</span>
    }

    default Optional&lt;String&gt; getRollbarEndpoint() {
<span class="fc" id="L495">        return getConditionalRollbarProperty(&quot;feature.rollbar.endpoint&quot;, &quot;endpoint&quot;);</span>
    }

    default boolean isTimelineEnabled() {
<span class="fc" id="L499">        return getConfigStorage().getBoolean(&quot;feature.timeline.enabled&quot;, true);</span>
    }

    default boolean isTimelineCalendarEnabled() {
<span class="fc" id="L503">        return getConfigStorage().getBoolean(&quot;feature.timeline.calendar.enabled&quot;, true);</span>
    }

    default boolean isTimelineTestsEnabled() {
<span class="fc" id="L507">        return getConfigStorage().getBoolean(&quot;feature.timeline.tests.enabled&quot;, true);</span>
    }

    default boolean isTimelineRadiologyEnabled() {
<span class="fc" id="L511">        return getConfigStorage().getBoolean(&quot;feature.timeline.radiology.enabled&quot;, true);</span>
    }

    default boolean isTimelineSymptomsEnabled() {
<span class="fc" id="L515">        return getConfigStorage().getBoolean(&quot;feature.timeline.symptoms.enabled&quot;, false);</span>
    }

    default boolean isTimelineMeasurementsEnabled() {
<span class="fc" id="L519">        return getConfigStorage().getBoolean(&quot;feature.timeline.measurements.enabled&quot;, false);</span>
    }

    default boolean isTimelinePreloadingEnabled() {
<span class="fc" id="L523">        return getConfigStorage().getBoolean(&quot;feature.timeline.preloading.enabled&quot;, false);</span>
    }

    default int getTimelineRequestTimeout() {
<span class="fc" id="L527">        return getConfigStorage().getInt(&quot;feature.timeline.request.timeout&quot;, 10000);</span>
    }

    default boolean isPatientBannerEnabled() {
<span class="fc" id="L531">        return getConfigStorage().getBoolean(&quot;feature.patientbanner.enabled&quot;, true);</span>
    }

    default String getTimelineFrontendFetchURL() {
<span class="fc" id="L535">        return getConfigStorage().getString(&quot;timelineFrontendFetchURL&quot;);</span>
    }

    default String getTimelineFrontendBrowserBaseURL() {
<span class="fc" id="L539">        return getConfigStorage().getString(&quot;timelineFrontendBrowserBaseURL&quot;);</span>
    }

    default int getTimelineHtmlExpiryInSeconds() {
<span class="fc" id="L543">        return getConfigStorage().getInt(&quot;timelineHtmlExpiryInSeconds&quot;);</span>
    }

    default String getValidicURL() {
<span class="fc" id="L547">        return getConfigStorage().getString(&quot;validicUrl&quot;);</span>
    }

    default int getValidicConnectionTimeoutMillis() {
<span class="fc" id="L551">        return getConfigStorage().getInt(&quot;validicConnectionTimeoutMillis&quot;);</span>
    }

    default int getValidicReadTimeoutMillis() {
<span class="fc" id="L555">        return getConfigStorage().getInt(&quot;validicReadTimeoutMillis&quot;);</span>
    }

    default int getValidicProvisionedUsersMaturityMins() {
<span class="fc" id="L559">        return getConfigStorage().getInt(&quot;validicProvisionedUsersMaturityMins&quot;, 120);</span>
    }

    default long getComposeMessageMaxFileSize() {
<span class="fc" id="L563">        return getConfigStorage().getLong(&quot;com.pkb.upload.ComposeMessage.maxFileSize&quot;);</span>
    }

    default String getComposeMessageFileSizeTextGB() {
<span class="fc" id="L567">        return getConfigStorage().getString(&quot;com.pkb.upload.ComposeMessage.maxFileTextGB&quot;);</span>
    }

    default boolean isCSRFProtectionEnabled() {
<span class="fc" id="L571">        return getConfigStorage().getBoolean(&quot;csrf.protection.enabled&quot;);</span>
    }

    default boolean isTrackingEnabled() {
<span class="fc" id="L575">        return getConfigStorage().getBoolean(&quot;trackingEnabled&quot;, false);</span>
    }

    default int getMatomoSiteId() {
<span class="fc" id="L579">        return getConfigStorage().getInt(&quot;matomo.siteId&quot;);</span>
    }

    default boolean isScistoreEnabled() {
<span class="fc" id="L583">        return getConfigStorage().getBoolean(&quot;feature.scistore.enabled&quot;, false);</span>
    }

    default int getDBQueryBatchSize() {
<span class="fc" id="L587">        return getConfigStorage().getInt(&quot;dbQueryBatchSize&quot;, 10000);</span>
    }

    default boolean isClientCachingOfStaticFilesEnabled() {
<span class="fc" id="L591">        return getConfigStorage().getBoolean(&quot;clientCachingOfStaticFiles&quot;);</span>
    }

    default boolean isDisplayOfSensitiveErrorInformationEnabled() {
<span class="fc" id="L595">        return getConfigStorage().getBoolean(&quot;security.display.sensitive.error.info.enabled&quot;, false);</span>
    }

    default boolean isEmailLoggingEnabled() {
<span class="fc" id="L599">        return getConfigStorage().getBoolean(&quot;security.display.sensitive.email.logging&quot;, false);</span>
    }

    default boolean isHL7IpWhitelistEnabled() {
<span class="fc" id="L603">        return getConfigStorage().getBoolean(&quot;security.hl7.whitelist.enabled&quot;, true);</span>
    }

    default int getHl7QryA19PageSize() {
<span class="fc" id="L607">        return getConfigStorage().getInt(&quot;feature.hl7.a19.sta.pagesize&quot;, 10000);</span>
    }

    default boolean isHL7MdmT01DocumentUpdateEnabled() {
<span class="fc" id="L611">        return getConfigStorage().getBoolean(&quot;feature.hl7.document.update.enabled&quot;, true);</span>
    }

    default int getNumberOfRecentLoginAttemptsAllowed() {
<span class="fc" id="L615">        return getConfigStorage().getInt(&quot;numberOfRecentLoginAttemptsAllowed&quot;);</span>
    }

    default int getDefinitionOfRecentLoginAttemptInSeconds() {
<span class="fc" id="L619">        return getConfigStorage().getInt(&quot;definitionOfRecentLoginAttemptInSeconds&quot;);</span>
    }

    default int getEmisEsProcessingBatchSize() {
<span class="fc" id="L623">        return getConfigStorage().getInt(&quot;emisEsBatchSize&quot;);</span>
    }

    default int getEmisEsCodingBatchSize() {
<span class="fc" id="L627">        return getConfigStorage().getInt(&quot;emisEsCodingBatchSize&quot;, 4000);</span>
    }

    default boolean isEmisEsStateResumeEnabled() {
<span class="fc" id="L631">        return getConfigStorage().getBoolean(&quot;emisEsStateResumeEnabled&quot;, true);</span>
    }

    default boolean isEmisEsForcedCodeCollectionModeEnabled() {
<span class="fc" id="L635">        return getConfigStorage().getBoolean(&quot;emisEsForcedCodeCollectionModeEnabled&quot;, false);</span>
    }

    default int getAutosaveTimeoutInMilliseconds() {
<span class="fc" id="L639">        return getConfigStorage().getInt(&quot;ui.autosaveTimeoutInMilliseconds&quot;);</span>
    }

    default int getAppointmentsCalendarMonths() {
<span class="nc" id="L643">        return getConfigStorage().getInt(&quot;appointments.calendar.months&quot;, 6);</span>
    }

    default Optional&lt;String&gt; clamAvHost() {
<span class="fc" id="L647">        Optional&lt;String&gt; maybeHostName = empty();</span>

<span class="pc bpc" id="L649" title="1 of 2 branches missed.">        if (getConfigStorage().getBoolean(&quot;clamav.scanning.enabled&quot;, true)) {</span>
<span class="fc" id="L650">            String host = getConfigStorage().getString(&quot;clamav.host&quot;, &quot;clamav&quot;);</span>

<span class="pc bpc" id="L652" title="1 of 2 branches missed.">            if (host.trim().isEmpty()) {</span>
<span class="nc" id="L653">                throw new IllegalStateException(&quot;'clamav.host' is blank&quot;);</span>
            }

<span class="fc" id="L656">            maybeHostName = Optional.of(host);</span>
        }

<span class="fc" id="L659">        LOGGER.info(&quot;Virus Scanning is {}enabled{}&quot;,</span>
<span class="fc" id="L660">                maybeHostName.map($ -&gt; &quot;&quot;).orElse(&quot;not &quot;),</span>
<span class="fc" id="L661">                maybeHostName.map(hostname -&gt; format(&quot;, using hostname=[%s].&quot;, hostname)).orElse(&quot;&quot;));</span>

<span class="fc" id="L663">        return maybeHostName;</span>
    }

    default boolean isFakeHelpPageBaseUrlProviderEnabled() {
<span class="fc" id="L667">        return getConfigStorage().getBoolean(&quot;fakehelppagebaseurlprovider.enabled&quot;, false);</span>
    }

    default int getEncounterTimelineRangeMonths() {
<span class="fc" id="L671">        return getConfigStorage().getInt(&quot;encounterTimelineRangeMonths&quot;, 6);</span>
    }

    default int getUserAgentAnalyzerCacheSize() {
<span class="fc" id="L675">        return getConfigStorage().getInt(&quot;userAgentAnalyzerCacheSize&quot;, 1000);</span>
    }

    default boolean isEnforceSecureCookies() {
<span class="fc" id="L679">        return getConfigStorage().getBoolean(&quot;feature.enforce.secure.cookies&quot;, true);</span>
    }

    default String getHospitalMapIframeSrc() {
<span class="fc" id="L683">        return getConfigStorage().getString(&quot;webapp.hospitalMapIframeSrc&quot;, &quot;https://viewer.blipstar.com/show?uid=1832224&amp;search=geoip&amp;gui=true&amp;rc=&amp;width=auto&amp;tag=false&quot;);</span>
    }

    default String getEmisRestUrl() {
<span class="fc" id="L687">        return getConfigStorage().getString(&quot;emis.rest.url&quot;, &quot;http://emis-mock-api:8080/PFS&quot;);</span>
    }

    default String getEmisRestXapiApplicationId() {
<span class="fc" id="L691">        return getConfigStorage().getString(&quot;emis.rest.xapi.application.id&quot;, &quot;TESTAPPID&quot;);</span>
    }


    default String getRestEmisXapiVersion() {
<span class="fc" id="L696">        return getConfigStorage().getString(&quot;emis.rest.xapi.version&quot;, &quot;2.1.0.0&quot;);</span>
    }

    default int getEmisRestConnectTimeout() {
<span class="fc" id="L700">        return getConfigStorage().getInt(&quot;emis.rest.connection.timeout&quot;, (int) SECONDS.toMillis(30));</span>
    }

    default String getEmisRestKeystore() {
<span class="fc" id="L704">        return getConfigStorage().getString(&quot;emis.rest.keystore&quot;);</span>
    }

    default String getOdsRestUrl() {
<span class="fc" id="L708">        return getConfigStorage().getString(&quot;ods.rest.url&quot;, &quot;https://directory.spineservices.nhs.uk/STU3&quot;);</span>
    }

    //The default value here is set to be a decent margin above the current number
    //of GP surgeries in the UK (~7k @ 2019-07)
    default int getOdsCacheSize() {
<span class="fc" id="L714">        return getConfigStorage().getInt(&quot;ods.cache.size&quot;, 10000);</span>
    }

    default int getOdsCacheExpiryHours() {
<span class="fc" id="L718">        return getConfigStorage().getInt(&quot;ods.cache.expiry.hours&quot;, 24);</span>
    }

    default String getMatomoBaseUrl() {
<span class="fc" id="L722">        return getConfigStorage().getString(&quot;matomo.base.url&quot;, &quot;/_stats&quot;);</span>
    }

    private Optional&lt;String&gt; getConditionalRollbarProperty(String key, String name) {
<span class="pc bpc" id="L726" title="1 of 2 branches missed.">        if (isRollBarEnabled()) {</span>
<span class="fc" id="L727">            String property = getConfigStorage().getString(key);</span>
<span class="pc bpc" id="L728" title="1 of 2 branches missed.">            if (isBlank(property)) {</span>
<span class="nc" id="L729">                throw new IllegalStateException(format(&quot;Rollbar is enabled, but %s (defined with key=[%s]) is not defined or it is blank&quot;, name, key));</span>
            }
<span class="fc" id="L731">            return Optional.of(property);</span>
        }
<span class="nc" id="L733">        return Optional.empty();</span>
    }

    default int getUnregisteredPatientsPageSize() {
<span class="fc" id="L737">        return getConfigStorage().getInt(&quot;unregisteredPatientsPageSize&quot;, 50);</span>
    }

    default int getDeactivatedCliniciansPageSize() {
<span class="fc" id="L741">        return getConfigStorage().getInt(&quot;deactivatedCliniciansPageSize&quot;, 0);</span>
    }

    default int getUploadedDataBatchSyncSize() {
<span class="fc" id="L745">        return getConfigStorage().getInt(&quot;uploadedDataBatchSyncSize&quot;, 200);</span>
    }

    private boolean isNhsLoginWebUiButtonEnabled(String key, boolean defaultValue) {
<span class="fc" id="L749">        boolean enabled = getConfigStorage().getBoolean(key, defaultValue);</span>
<span class="fc bfc" id="L750" title="All 2 branches covered.">        if (enabled) {</span>
<span class="fc" id="L751">            assertNhsIntegrationUrl();</span>
        }
<span class="fc" id="L753">        return enabled;</span>
    }

    default boolean isNhsLoginWebUiButtonEnabled() {
<span class="fc" id="L757">        return isNhsLoginWebUiButtonEnabled(&quot;nhslogin.webui.button.enabled&quot;, false);</span>
    }

    default boolean isNhsLoginWebUiButtonEnabledForCIE() {
<span class="fc" id="L761">        return isNhsLoginWebUiButtonEnabled(&quot;nhslogin.webui.button.cie.enabled&quot;, true);</span>
    }

    default boolean isNhsLoginWebUiButtonEnabledForSussex() {
<span class="fc" id="L765">        return isNhsLoginWebUiButtonEnabled(&quot;nhslogin.webui.button.sussex.enabled&quot;, true);</span>
    }

    default boolean isNhsLoginWebUiButtonEnabledForSherwoodForestHospital() {
<span class="fc" id="L769">        return isNhsLoginWebUiButtonEnabled(&quot;nhslogin.webui.button.sherwood.enabled&quot;, true);</span>
    }

    default boolean isNhsLoginWebUiButtonEnabledForCheshireMchftPr() {
<span class="fc" id="L773">        return isNhsLoginWebUiButtonEnabled(&quot;nhslogin.webui.button.cheshireMchftPr.enabled&quot;, true);</span>
    }

    default boolean isNhsLoginWebUiButtonEnabledForSelfRegistration() {
<span class="fc" id="L777">        return getConfigStorage().getBoolean(&quot;nhslogin.webui.button.self.registration.enabled&quot;, false);</span>
    }

    default boolean isNhsLoginWebUiButtonEnabledForConnectedNotts() {
<span class="fc" id="L781">        return isNhsLoginWebUiButtonEnabled(&quot;nhslogin.webui.button.connectedNotts.enabled&quot;, true);</span>
    }

    default boolean isNhsLoginWebUiButtonEnabledForHull() {
<span class="fc" id="L785">        return isNhsLoginWebUiButtonEnabled(&quot;nhslogin.webui.button.hull.enabled&quot;, true);</span>
    }

    default boolean isNhsLoginWebUiButtonEnabledForMidYorkshireHospitals() {
<span class="fc" id="L789">        return isNhsLoginWebUiButtonEnabled(&quot;nhslogin.webui.button.midYorkshireHospitals.enabled&quot;, true);</span>
    }

    default boolean isNhsLoginWebUiButtonEnabledForYorkTeachingHospital() {
<span class="fc" id="L793">        return isNhsLoginWebUiButtonEnabled(&quot;nhslogin.webui.button.yorkTeachingHospital.enabled&quot;, true);</span>
    }

    default boolean isDefaultTokenRegistrationErrorMessages() {
<span class="fc" id="L797">        return isNhsLoginWebUiButtonEnabledForSelfRegistration();</span>
    }

    @Nullable
    default String getNhsIntegrationUrl() {
<span class="fc" id="L802">        return getConfigStorage().getString(&quot;nhslogin.integration.path&quot;, &quot;/nhs-login/login&quot;);</span>
    }

    default void assertNhsIntegrationUrl() {
<span class="fc" id="L806">        String key = &quot;nhslogin.integration.path&quot;;</span>
<span class="fc" id="L807">        String path = getConfigStorage().getString(key);</span>
<span class="fc" id="L808">        checkState(isNotBlank(path), &quot;NHS Login button on WEB UI is enabled, but: 'NHS Login integration path' referred with key=[{}] is not defined or is blank&quot;, key);</span>
<span class="fc" id="L809">    }</span>

    default boolean isExceptionForMissingPatientParticipantEnabled() {
<span class="nc" id="L812">        return getConfigStorage().getBoolean(&quot;consistency.check.message.missing.patient.participant.exception&quot;, true);</span>
    }

    default boolean isGpAppointmentBookingEnabled() {
<span class="fc" id="L816">        return getConfigStorage().getBoolean(&quot;feature.gpAppointmentBooking.enabled&quot;, false);</span>
    }

    default boolean isBookAppointmentWarningVisible() {
<span class="fc" id="L820">        return getConfigStorage().getBoolean(&quot;feature.bookAppointmentWarning.visible&quot;, false);</span>
    }

    default boolean isNhsLoginEnabled() {
<span class="fc" id="L824">        return getConfigStorage().getBoolean(&quot;feature.nhslogin.enabled&quot;, false);</span>
    }

    default boolean isGpPrescriptionOrderingEnabled() {
<span class="fc" id="L828">        return getConfigStorage().getBoolean(&quot;feature.gpPrescriptionOrdering.enabled&quot;, false);</span>
    }

    default boolean isSystmOneSsoEnabled() {
<span class="fc" id="L832">        return getConfigStorage().getBoolean(&quot;feature.systmoneSso.enabled&quot;, false);</span>
    }

    default boolean isIframeTestingEnabled() {
<span class="fc" id="L836">        return getConfigStorage().getBoolean(&quot;feature.iframe.testing.enabled&quot;, false);</span>
    }

    default String getOauth2BaseUrl() {
<span class="fc" id="L840">        return getConfigStorage().getString(&quot;oauth2.baseurl&quot;, &quot;http://oauth2-endpoint:8080&quot;);</span>
    }

    default String getOauth2PhrClientUsername() {
<span class="fc" id="L844">        return getConfigStorage().getString(&quot;oauth2.phr.client.username&quot;, &quot;f60604fa-9b40-461b-ae7d-0140d68f2fe4&quot;);</span>
    }

    default String getOauth2PhrClientPassword() {
<span class="fc" id="L848">        return getConfigStorage().getString(&quot;oauth2.phr.client.password&quot;, &quot;pass&quot;);</span>
    }

    default int getOauth2PhrClientTokenCacheExpireMinutes() {
<span class="fc" id="L852">        return getConfigStorage().getInt(&quot;oauth2.phr.client.token.cache.expire.minutes&quot;, 20);</span>
    }

    default int getMassQuestionnaireBatchSize() {
<span class="fc" id="L856">        return getConfigStorage().getInt(&quot;massQuestionnaireBatchSize&quot;, 10000);</span>
    }

    default int getMeasurementHistoryDefaultFetchSize() {
<span class="fc" id="L860">        return getConfigStorage().getInt(&quot;measurementHistoryDefaultFetchSize&quot;, 1000);</span>
    }

    default int getMyMeasurementsDefaultFetchSize() {
<span class="fc" id="L864">        return getConfigStorage().getInt(&quot;myMeasurementsDefaultFetchSize&quot;, 100);</span>
    }

    default boolean isAllowSsoTestingPages() {
<span class="fc" id="L868">        return getConfigStorage().getBoolean(&quot;feature.ssotestingpages.enabled&quot;, false);</span>
    }

    default String getBulkDisableSharingPatientIds() {
<span class="fc" id="L872">        return getConfigStorage().getString(&quot;feature.bulkdisablesharing.patientIds&quot;, &quot;&quot;);</span>
    }

    default String asyncQuestionnaireResultsAppUrl() {
<span class="fc" id="L876">        return getConfigStorage().getString(&quot;asyncQuestionnaireResultsAppUrl&quot;, &quot;http://questionnaireservice:8080&quot;);</span>
    }

    default int getNhsLoginUserAgeMinimum() {
<span class="fc" id="L880">        return getConfigStorage().getInt(&quot;nhslogin.user.age.minimum&quot;, 13);</span>
    }

    default int getMaxInactiveIntervalSeconds() {
<span class="fc" id="L884">        return getConfigStorage().getInt(&quot;session.max.inactive.interval.seconds&quot;, (int) Duration.ofMinutes(30).toSeconds());</span>
    }

    default String getNhsAppApi() {
<span class="fc" id="L888">        return getConfigStorage().getString(&quot;nhs.app.api&quot;, &quot;https://www.nhsapp.service.nhs.uk/js/v1/nhsapp.js&quot;);</span>
    }

    default String getNhsAppServerFakeHost() {
<span class="fc" id="L892">        return getConfigStorage().getString(&quot;nhs.app.server.fake.host&quot;, &quot;http://fakehttp-server/&quot;);</span>
    }

    default String getPathfindersProxyBaseUrl() {
<span class="fc" id="L896">        return getConfigStorage().getString(&quot;pathfindersproxy.baseurl&quot;, &quot;http://pathfindersproxy:8007&quot;);</span>
    }

    default List&lt;Long&gt; getSocialCareOrgIds() {
<span class="fc" id="L900">        String socialCareOrgIds = getConfigStorage().getString(&quot;social.care.org.ids&quot;, &quot;&quot;);</span>

<span class="fc" id="L902">        return stream(socialCareOrgIds.split(&quot;,&quot;))</span>
<span class="fc" id="L903">                .filter(StringUtils::isNotBlank)</span>
<span class="fc" id="L904">                .map(Long::valueOf)</span>
<span class="fc" id="L905">                .collect(toList());</span>
    }

    default List&lt;Long&gt; getSocialCareOrgNetworkIds() {
<span class="fc" id="L909">        String socialCareOrgNetworkIds = getConfigStorage().getString(&quot;social.care.org.network.ids&quot;, CIE_ORG_NETWORK_ID);</span>

<span class="fc" id="L911">        return stream(socialCareOrgNetworkIds.split(&quot;,&quot;))</span>
<span class="fc" id="L912">                .filter(StringUtils::isNotBlank)</span>
<span class="fc" id="L913">                .map(Long::valueOf)</span>
<span class="fc" id="L914">                .collect(toList());</span>
    }

    default boolean isSocialCareFeatureEnabled() {
<span class="fc" id="L918">        return getConfigStorage().getBoolean(&quot;feature.socialcare.enabled&quot;, false);</span>
    }

    default int getCsvDownloadGenerationBatchSize() {
<span class="fc" id="L922">        return getConfigStorage().getInt(&quot;questionnaire.service.csv.download.generation.batch.size&quot;, 2000);</span>
    }

    default int getNumberOfFailedRegistrationAttemptsAllowed() {
<span class="fc" id="L926">        return getConfigStorage().getInt(&quot;numberOfRecentFailedRegistrationAttemptsAllowed&quot;);</span>
    }

    default int getDefinitionOfFailedRegistrationAttemptInSeconds() {
<span class="fc" id="L930">        return getConfigStorage().getInt(&quot;definitionOfFailedRegistrationAttemptInSeconds&quot;);</span>
    }

    default int getNumberOfFailedDOBInputAttempts() {
<span class="fc" id="L934">        return getConfigStorage().getInt(&quot;numberOfRecentFailedDateOfBirthInputAttemptsAllowed&quot;);</span>
    }

    default int getDefinitionOfFailedDOBInputAttemptInHours() {
<span class="fc" id="L938">        return getConfigStorage().getInt(&quot;definitionOfFailedDateOfBirthInputAttemptInHours&quot;);</span>
    }

    default boolean isHl7DuplicateDatapointRejectionEnabled() {
<span class="fc" id="L942">        return getConfigStorage().getBoolean(&quot;hl7.duplicate.datapoint.rejection&quot;, true);</span>
    }

    default String phrFhirApiUrl() {
<span class="fc" id="L946">        return getConfigStorage().getString(&quot;phr.fhir.api.url&quot;, &quot;/phr-fhir&quot;);</span>
    }

    default String getNhsApiBaseUrl() {
<span class="fc" id="L950">        return getConfigStorage().getString(&quot;nhs.api.baseurl&quot;, &quot;https://dev.api.service.nhs.uk&quot;);</span>
    }

    default String getNhsApiKeyIdentifier() {
<span class="fc" id="L954">        return getConfigStorage().getString(&quot;nhs.api.kid&quot;, &quot;test-1&quot;);</span>
    }

    default String getNhsApiKey() {
<span class="fc" id="L958">        return getConfigStorage().getString(&quot;nhs.api.key&quot;, &quot;rQ47V5yIyj8CXurYOCoNRnVitlU53LQg&quot;);</span>
    }

    default int getNhsApiTokenRefreshSeconds() {
<span class="fc" id="L962">        return getConfigStorage().getInt(&quot;nhs.api.token.refresh.seconds&quot;, 5 * 60);</span>
    }

    default int getNhsApiTokenRefreshRetry() {
<span class="nc" id="L966">        return getConfigStorage().getInt(&quot;nhs.api.token.refresh.retry&quot;, 5);</span>
    }

    /**
     * JWT expiration must not be more than 5 minutes after issue time, as per
     * https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/application-restricted-restful-apis-signed-jwt-authentication
     */
    default int getNhsApiJwtExpirationSeconds() {
<span class="fc" id="L974">        return getConfigStorage().getInt(&quot;nhs.api.jwt.expiration.seconds&quot;, 5 * 60);</span>
    }

    default boolean isNhsAppNotificationEnabled() {
<span class="fc" id="L978">        return getConfigStorage().getBoolean(&quot;feature.nhs.notification.enabled&quot;, false);</span>
    }

    default String getNhsAppNotificationPubsubTopic() {
<span class="fc" id="L982">        return getConfigStorage().getString(&quot;nhs.notification.pubsub.topic&quot;, &quot;nhsAppNotification&quot;);</span>
    }

    default String getNhsAppNotificationPubsubSubscription() {
<span class="fc" id="L986">        return getConfigStorage().getString(&quot;nhs.notification.pubsub.subscription&quot;, &quot;nhsAppNotification-phr&quot;);</span>
    }

    default int getNhsAppNotificationManualRetry() {
<span class="nc" id="L990">        return getConfigStorage().getInt(&quot;nhs.notification.manual.retry.count&quot;, 1);</span>
    }

    default String getNhsAppNotificationInboxCallbackPath() {
<span class="fc" id="L994">        return getConfigStorage().getString(&quot;nhs.notification.inbox.callback.path&quot;, &quot;/auth/getInbox.action&quot;);</span>
    }

    default String getNhsApiJwtSigningKeyBase64() {
<span class="fc" id="L998">        return getConfigStorage().getString(&quot;nhs.api.jwt.signing.key.base64&quot;, &quot;MIIJQwIBADANBgkqhkiG9w0BAQEFAASCCS0wggkpAgEAAoICAQDObE9eBE2I00dK&quot; +</span>
                &quot;Iak6m9A5j0ZKhprRi1qILj99niK00zr0GuesF1W9zTY0SWDy9dapizWmK+l4gbEC&quot; +
                &quot;rXlmvIwKhkUtgVJGB6Wkl9Gl53rrTYce2O5LHpISy1Vcy50Ps10LEvnxoMtn5u9F&quot; +
                &quot;pdqEE4RtkHA7MyjNgVJz/4eKHk1IhhAKs5IdGjgwQRQdJuzH0A7DkQpFkOLpu/Wq&quot; +
                &quot;G4xe8AnRPeFIheErMF9+P0orqOCS+Wt8Xkm3Wuj5Ewiau5xrSDl8hey/dTAmk7NX&quot; +
                &quot;bOFMc5FQdsIdQdUUFiklFAczm0a7yj7Xah2NzXZPmdrt3Gb3wFU5hFckq6mEg6VJ&quot; +
                &quot;7R15jv7sMyDXkz0PUb6Hp6f92nwMsV2CKs27HLB16b16xeTDPotl0yuMQnBoams1&quot; +
                &quot;lH9EExGeak1ObptrKrdEtIIRrVG1K8/hRXf/csa6qcGS65EmGm4xonryIQpiNy5a&quot; +
                &quot;2EtrgpbI8Rvsnz6gHInecndwaC0EUz/JE2AZEGmX8LZ46Y0lFQo5yTUYWbBssg5h&quot; +
                &quot;jMAcbRykX58vriBQrcfQjDFmqdlfLPwKTnhh+dIMAfxAOqcc7RcgMYN+7HYJ3uit&quot; +
                &quot;+ciIxmohFiP1ckZr/Uh0nLRXQoNQIrPhR/3boQ/rHHXqfnTKCfcV+vm6EwuIpUvw&quot; +
                &quot;t9TnjibbTGKt87ATAOnwLm2CmQahBQIDAQABAoICAE6tQ5bvBupWtP5RVCINj1DR&quot; +
                &quot;BhaTtWCWv7vV/McRReMr+3Vc595Uyo5cMAO/0B7qipX2hE1AwWz36ZK+sd3xkWLV&quot; +
                &quot;iHpupwAgHAdfAj48u0ICO7ULM9AX588YBwImbUe1sontAq0Q/1Yr1Bj0vRPIKJpm&quot; +
                &quot;ChDWT//8AYRK6cs//27cAjNB/DfxbWce9t6hnnAOIgJyPrsDHSm/RUQ/2cG5tdQ1&quot; +
                &quot;xK8SsB75AfypfMilRmtee5Rcj7Y+BTwiAA6R4W2WiqqmlPToYqDhfOKekkTEa6eC&quot; +
                &quot;jDwAgol0ZNxIBPKrhUtAK7GJNZh9rlFqr+InNmvJt/IDOf+1Ghhy4MYLhUd2tDx9&quot; +
                &quot;hWRdhWBb4HqMik+OaJhgpSthPPlWxItSFYRA8q9QHPtwcCVOFMKrq7D9oxplxKnX&quot; +
                &quot;UtPRzH0UziiicUKeToIci+UyREVnyXPCX4WuZv0+Oo6J8phFm66weGyf9Y0p7cjE&quot; +
                &quot;rb7qHCOFTUtImivowDU8+9gmsRFQ/tUlBSJp605Psnm/GPA/fo4T0AqOgT6ydbPd&quot; +
                &quot;loflW9XfwzKTWmr3XxHpuM6LKWasNWpKxF0ptqarcfPIG8Ealv3IRJTFnCTwUjvb&quot; +
                &quot;7edHpNi+YJEacyoZB9786k6WTCm+61nt4O6wqBFiA7GdItkwgs8cytZSRRVE2QCC&quot; +
                &quot;cGX5U6nqZllXLBszobIBAoIBAQDoRmZai9bRakyUk6e3T5WVR8bT3g85w0Au7y3C&quot; +
                &quot;yJOtqO5X2OUWLDugF8ygSvSiunZ509a+QwgdkxDyMsFA5E6WwgImf1ZyO4/HqdYA&quot; +
                &quot;cJJmAQS4mFGs+5hReL3GG67hh8F74qGg9BOtuYb2id9PR0f3lYhtBXmPJRty+ARj&quot; +
                &quot;YFRYhKQ1C/52syjlbh+XdgQkXLTmLV5zGlkR4vks4Lj9IWt6tHAf/ipcyODmirWF&quot; +
                &quot;5xdJi4WnCqn9yukJ/jr1pROwdUbc8imLrAjmvavohTRn1JdwFfY9N2Vmqux6QFdh&quot; +
                &quot;4Cf30q51h5++Bbhw67urPL7CDgIjD73oUWeFkAXQEwTL8OGBAoIBAQDjge0bhwIG&quot; +
                &quot;/1ZQrM3VclpMZCdlkU57tsySkk1QmbflIAuCIdduaQAxuGc6kgCzOOVYEiEcyFqs&quot; +
                &quot;2nA9eorLNyaJwpkhrrMGUKcRPmKJaP9NfdJSLHna4e1te1ln4i8xg2z500Wvn1GP&quot; +
                &quot;coJ9Anqc05iJhtebOMWWkAcArWWkgOnA1BLnMrC2BTt+gohsCCc6zBuCetTEeFwc&quot; +
                &quot;ZoYTIIb1JSXgL6Nn1uWox6I29E32Nbku6OeZfa/7h40wBbCOnlpiJJFvpdbfFuyX&quot; +
                &quot;YmuImBOH0qSFOQaS65ozKxIyJGRkd4GSWfzoH/T45eHrFAnUaEhX2sTQO9fkKY8f&quot; +
                &quot;j93pQjApC/mFAoIBAQDePc3dQQOvp5fSaV0F5h3nkZ/KRCQpTopw3eTZBHVYqdQz&quot; +
                &quot;NZIsHvKGAX+Gt3FO6j5F3s0Piq+PLJIAS1PhNRGE6eiI0TnzXs35aqUaEpvhAYR0&quot; +
                &quot;4zjy3GAnQ/HAReiUXgJg+L1RdXgGtwdNiSmjfz56xBaeyag/sG+NF4WLWDYb4/4B&quot; +
                &quot;y5IUHOQ6cZ3Em+TmrdVgj3RZiZJDrPphWDtn57wg0dieo+AAmyulKn74ud3sPpUI&quot; +
                &quot;+Qkhji5fo2LieqpWIkBFU2cw/tAdhsmfVySHXD/xvPG4LPLWwyA08K8rNQDI/Ep0&quot; +
                &quot;penQNUT+tm8ALsUOg7zDs2IvkQQOJXmKV0g1oisBAoIBAQCUOEyKt52Zg3bvnnWH&quot; +
                &quot;jzXHOST1pgJU1VZYU5qtXUiSrRryUCvzkdL/kZ0naoGsQfAhPcZ24w04OiQP2atd&quot; +
                &quot;E/Q2oiJz8EZQYfFGabd2wII8MTH6OWG2OaUew9MOvCx0/KPd60gmUAyqATeETD4n&quot; +
                &quot;uC9Twhbr2MPaAMGfLljfIOGpsEEUgVDhdW06Ub6ha3prcxilHHNMAQI5uo21Hmbu&quot; +
                &quot;haI0ebTi7P24xT8owGeedYfNSQ3CUUF7BOf2Fm7dq8tEz4A1Ff10YJIJWqSmXDW1&quot; +
                &quot;MoXfCbT/uSFAHtp+8ni5f6ZZ++iqLk/CbLqQFgEFcl9XZX7+D07rJixJqsgvtOB9&quot; +
                &quot;jYClAoIBAASBHh3BqV+H68gE4ZXhC73yG92Ae+Huuhxk+ulzijAYN2S0YgK3qJJO&quot; +
                &quot;z3gfoBHzKq+k7RhXVSAhXZVSHZ9V57/t2HGw/TrhUU2IZRzT21dGiEi6uXJ+r0gO&quot; +
                &quot;fQHRyojkpRHoBh4B18eSabA0k1e9dsvGTeLfHntOWG0rVraOy1AscjAtn65YuUa5&quot; +
                &quot;V7XapefH4jtozD2GwDEV5dMtNFzwaNNSgKqfXmxiJwlHIJ7Dg190ZSAutGwQSkYV&quot; +
                &quot;irhskXtlo+kQkr8062vDx5gcxnHlqhUHvNhLlLVZWXRDvJCiPzeIjEDiDGt2x99z&quot; +
                &quot;6/k/0Xkyq1BDCMOp7pybpT6FAo1friE=&quot;);
    }

    default int getAccountUserFetchSize() {
<span class="fc" id="L1051">        return getConfigStorage().getInt(&quot;accountUserFetchSize&quot;, 10000);</span>
    }

    default long getTestUploadMaxFileSize() {
<span class="fc" id="L1055">        return getConfigStorage().getLong(&quot;com.pkb.upload.maxTestFileSize&quot;);</span>
    }

    default String getTestUploadMaxFileTextMB() {
<span class="fc" id="L1059">        return getConfigStorage().getString(&quot;com.pkb.upload.maxTestFileTextMB&quot;);</span>
    }

    default long getShowConversationMaxFileSize() {
<span class="fc" id="L1063">        return getConfigStorage().getLong(&quot;com.pkb.upload.ShowConversation.maxFileSize&quot;);</span>
    }

    default String getShowConversationMaxFileTextMB() {
<span class="fc" id="L1067">        return getConfigStorage().getString(&quot;com.pkb.upload.ShowConversation.maxFileTextMB&quot;);</span>
    }

    default int getTeamExportBatchSize() {
<span class="fc" id="L1071">        return getConfigStorage().getInt(&quot;teamExportBatchSize&quot;, 100);</span>
    }

    default boolean isMedMijIntegrationEnabled() {
<span class="fc" id="L1075">        return getConfigStorage().getBoolean(&quot;feature.medmij.integration.enabled&quot;, false);</span>
    }

    default boolean isUpdateMyRecordFeatureEnabled() {
<span class="fc" id="L1079">        return getConfigStorage().getBoolean(&quot;feature.medmij_getmydata.link.enabled&quot;, false);</span>
    }

    default String getUpdateMyRecordBaseURL() {
<span class="fc" id="L1083">        return getConfigStorage().getString(&quot;feature.medmij_getmydata.link.baseurl&quot;);</span>
    }

    default boolean is2FAEnabled() {
<span class="fc" id="L1087">        return getConfigStorage().getBoolean(&quot;feature.2fa.enabled&quot;, false);</span>
    }

    default boolean is2FARestrictedToPKBEmployees() {
<span class="fc" id="L1091">        return getConfigStorage().getBoolean(&quot;feature.2fa.restrict.to.pkb&quot;, false);</span>
    }

    default String getSupportNewTicketUrl() {
<span class="fc" id="L1095">        return getConfigStorage().getString(&quot;support.new.ticket.url&quot;, &quot;https://support.patientsknowbest.com/support/tickets/new&quot;);</span>
    }

    default boolean isGcsMigrationTestFailEnabled() {
<span class="fc" id="L1099">        return getConfigStorage().getBoolean(&quot;documents.gcs.migration.testFailureEnabled&quot;, false);</span>
    }

    default boolean isBatchGcsMigrationTestFailEnabled() {
<span class="fc" id="L1103">        return getConfigStorage().getBoolean(&quot;documents.batch.gcs.migration.testFailureEnabled&quot;, false);</span>
    }

    default boolean isBatchGcsMigrationFallbackEnabled() {
<span class="fc" id="L1107">        return getConfigStorage().getBoolean(&quot;documents.batch.gcs.migration.fallbackEnabled&quot;, true);</span>
    }

    default boolean isSecurityCheckUrlParametersEnabled() {
<span class="fc" id="L1111">        return getConfigStorage().getBoolean(&quot;security.check.url.parameters&quot;, false);</span>
    }

    default boolean isSecurityCheckAllUserAgents() {
<span class="fc" id="L1115">        return getConfigStorage().getBoolean(&quot;security.check.all.user.agents&quot;, false);</span>
    }

    default String getGrantAccessToOrgRequestTopic() {
<span class="fc" id="L1119">        return getConfigStorage().getString(&quot;grant.access.to.org.request.topic&quot;, &quot;grantAccessToOrgRequest&quot;);</span>
    }

    default String getGrantOrgAccessRequestTopic() {
<span class="fc" id="L1123">        return getConfigStorage().getString(&quot;grant.org.access.request.topic&quot;, &quot;grantOrgAccessRequest&quot;);</span>
    }

    default boolean isShowNhsTermsAndConditions() {
<span class="fc" id="L1127">        return getConfigStorage().getBoolean(&quot;feature.show.nhs.terms.and.conditions&quot;, false);</span>
    }

    default String getPKBManualURL() {
<span class="fc" id="L1131">        return getConfigStorage().getString(&quot;pkb.manual.url&quot;, &quot;https://manual.patientsknowbest.com/&quot;);</span>
    }

    default String getPKBPrivacyManualURLUK() {
<span class="fc" id="L1135">        return getConfigStorage().getString(&quot;pkb.privacy.manual.url.uk&quot;, &quot;https://manual.patientsknowbest.com/legal/privacy/uk&quot;);</span>
    }

    default String getPKBPrivacyManualURLEU() {
<span class="fc" id="L1139">        return getConfigStorage().getString(&quot;pkb.privacy.manual.url.eu&quot;, &quot;https://manual.patientsknowbest.com/legal/privacy/eu&quot;);</span>
    }

    default String getPKBPrivacyManualURLIN() {
<span class="fc" id="L1143">        return getConfigStorage().getString(&quot;pkb.privacy.manual.url.in&quot;, &quot;https://manual.patientsknowbest.com/legal/privacy/in&quot;);</span>
    }

    default String getNHSAppPrivacyNoticeURL() {
<span class="fc" id="L1147">        return getConfigStorage().getString(&quot;nhs.app.privacy.notice.url&quot;, &quot;https://www.nhs.uk/using-the-nhs/nhs-services/the-nhs-app/privacy/&quot;);</span>
    }

    default String getPKBManualBTGURL() {
<span class="fc" id="L1151">        return getConfigStorage().getString(&quot;pkb.manual.btg.url&quot;, &quot;https://manual.patientsknowbest.com/privacy-officer/break-the-glass&quot;);</span>
    }

    default String getPKBManualLegalComplaintsURL() {
<span class="fc" id="L1155">        return getConfigStorage().getString(&quot;pkb.manual.legal.complaints.url&quot;, &quot;https://manual.patientsknowbest.com/legal/complaints&quot;);</span>
    }

    default String getPKBManualLegalPrivacyURL() {
<span class="fc" id="L1159">        return getConfigStorage().getString(&quot;pkb.manual.legal.privacy.url&quot;, &quot;https://manual.patientsknowbest.com/legal/privacy&quot;);</span>
    }

    default String getPKBManualLegalUserAgreementURL() {
<span class="fc" id="L1163">        return getConfigStorage().getString(&quot;pkb.manual.legal.user.agreement.url&quot;, &quot;https://manual.patientsknowbest.com/legal/user-agreement&quot;);</span>
    }

    default String getPKBManualAccessibilityURL() {
<span class="fc" id="L1167">        return getConfigStorage().getString(&quot;pkb.manual.legal.accessibility.url&quot;, &quot;https://manual.patientsknowbest.com/legal/accessibility&quot;);</span>
    }

    default String getPKBManualCookiePolicyURL() {
<span class="fc" id="L1171">        return getConfigStorage().getString(&quot;pkb.manual.legal.cookie.policy.url&quot;, &quot;https://manual.patientsknowbest.com/legal/cookie-policy&quot;);</span>
    }

    default String getPKBIGAgreementsJCAURL() {
<span class="fc" id="L1175">        return getConfigStorage().getString(&quot;pkb.ig.agreements.jca.url&quot;, &quot;https://ig.patientsknowbest.com/agreements-legal/jca&quot;);</span>
    }

    default String getNHSIGAgreementsJCAURL() {
<span class="fc" id="L1179">        return getConfigStorage().getString(&quot;nhs.ig.agreements.jca.url&quot;, &quot;https://nhsig.patientsknowbest.com/agreements-legal/nhs-jca&quot;);</span>
    }

    default String getBreakdownOfOrganisationsURL() {
<span class="fc" id="L1183">        return getConfigStorage().getString(&quot;pkb.breakdown.of.organisations.url&quot;, &quot;https://viewer.blipstar.com/show?uid=1832224&quot;);</span>
    }

    default String getPKBDPOName() {
<span class="fc" id="L1187">        return getConfigStorage().getString(&quot;pkb.dpo.name&quot;, &quot;David Stone&quot;);</span>
    }

    default String getPKBDPOEmail() {
<span class="fc" id="L1191">        return getConfigStorage().getString(&quot;pkb.dpo.email&quot;, &quot;dpo@patientsknowbest.com&quot;);</span>
    }

    default String getPKBDPOAddress() {
<span class="fc" id="L1195">        return getConfigStorage().getString(&quot;pkb.dpo.address&quot;, &quot;Patients Know Best&lt;br /&gt;St John's Innovation Centre&lt;br /&gt;Cowley Road Milton&lt;br /&gt;Cambridge&lt;br /&gt;CB4 0WS&quot;);</span>
    }

    default String getPKBContactUsURL() {
<span class="fc" id="L1199">        return getConfigStorage().getString(&quot;pkb.contact.us.url&quot;, &quot;https://www.patientsknowbest.com/contact-us&quot;);</span>
    }

    default String getPKBWebsiteURL() {
<span class="fc" id="L1203">        return getConfigStorage().getString(&quot;pkb.website.url&quot;, &quot;https://patientsknowbest.com&quot;);</span>
    }

    default String getPKBSupportURL() {
<span class="fc" id="L1207">        return getConfigStorage().getString(&quot;pkb.support.url&quot;, &quot;https://support.patientsknowbest.com&quot;);</span>
    }

    default String getPKBStatusURL() {
<span class="fc" id="L1211">        return getConfigStorage().getString(&quot;pkb.status.url&quot;, &quot;http://www.pkbstatus.com&quot;);</span>
    }

    default String getICOComplaintURL() {
<span class="fc" id="L1215">        return getConfigStorage().getString(&quot;ico.complaint.url&quot;, &quot;https://ico.org.uk/make-a-complaint/&quot;);</span>
    }

    default String getDutchComplaintURL() {
<span class="fc" id="L1219">        return getConfigStorage().getString(&quot;dutch.complaint.url&quot;, &quot;https://autoriteitpersoonsgegevens.nl/en/contact-dutch-dpa/contact-us&quot;);</span>
    }

    default String getPKBIGURL() {
<span class="fc" id="L1223">        return getConfigStorage().getString(&quot;pkb.ig.url&quot;, &quot;https://ig.patientsknowbest.com/home&quot;);</span>
    }

    default String getPKBPreviousPrivacyNoticeURL() {
<span class="fc" id="L1227">        return getConfigStorage().getString(&quot;pkb.previous.privacy.notice.url&quot;,&quot;https://manual.patientsknowbest.com/legal/privacy2021&quot;);</span>
    }

    default String getPKBPrivacyNoticeVersion() {
<span class="fc" id="L1231">        return getConfigStorage().getString(&quot;pkb.privacy.notice.version&quot;, &quot;5.3&quot;);</span>
    }

    default String getPKBPrivacyNoticeUpdated() {
<span class="fc" id="L1235">        return getConfigStorage().getString(&quot;pkb.privacy.notice.updated&quot;, &quot;24.08.2022&quot;);</span>
    }

    default String getPKBRegisteredOfficeAddress() {
<span class="fc" id="L1239">        return getConfigStorage().getString(&quot;pkb.registered.office.address&quot;, &quot;St John's Innovation Centre, Cowley Road, Cambridge CB4 0WS&quot;);</span>
    }

    default String getPKBHelpEmail() {
<span class="fc" id="L1243">        return getConfigStorage().getString(&quot;pkb.help.email&quot;, &quot;help@patientsknowbest.com&quot;);</span>
    }

    default String getPKBUserAgreementUpdated() {
<span class="fc" id="L1247">        return getConfigStorage().getString(&quot;pkb.user.agreement.updated&quot;, &quot;August 2022&quot;);</span>
    }

    default String getPKBManualPODisableSharingURL() {
<span class="fc" id="L1251">        return getConfigStorage().getString(&quot;pkb.manual.po.disable.sharing.url&quot;, &quot;https://manual.patientsknowbest.com/patient/sharing#h.p_sGdbVe_KdzdG&quot;);</span>
    }

    default String getNHSLoginTermsAndConditionsURL() {
<span class="fc" id="L1255">        return getConfigStorage().getString(&quot;nhs.login.terms.and.conditions.url&quot;, &quot;https://access.login.nhs.uk/terms-and-conditions&quot;);</span>
    }

    default String getNHSDataProcessingContractTemplateURL() {
<span class="fc" id="L1259">        return getConfigStorage().getString(&quot;nhs.data.processing.contract.template.url&quot;,&quot;https://nhsig.patientsknowbest.com/agreements-legal/nhs-pkb-dpc&quot;);</span>
    }

    default String getDateOfConsentExpiryUpdateFix() {
<span class="fc" id="L1263">        return getConfigStorage().getString(&quot;dateOfConsentExpiryUpdateFix&quot;, &quot;2022-02-17T00:00:00Z&quot;);</span>
    }

    default int getDocumentGcsDeleteBatchSize() {
<span class="fc" id="L1267">        return getConfigStorage().getInt(&quot;documents.gcs.delete.batchSize&quot;, 1000);</span>
    }

    default int getDocumentGcsDeleteKeepForDays() {
        // Point in time recovery is 14 days, plus a few days extra for safety
<span class="fc" id="L1272">        return getConfigStorage().getInt(&quot;documents.gcs.delete.keepForDays&quot;, 20);</span>
    }

    default boolean isValidicLoggingEnabledForDeviceTester() {
<span class="fc" id="L1276">        return getConfigStorage().getBoolean(&quot;validic.logging.enabled.for.device.tester&quot;, false);</span>
    }

    default boolean isValidicProvisionedUsersMaturityEnabled() {
<span class="fc" id="L1280">        return getConfigStorage().getBoolean(&quot;validic.provisioned.users.maturity.enabled&quot;, false);</span>
    }

    default boolean isVelocityRuntimeReferenceStrictEnabled() {
<span class="fc" id="L1284">        return getConfigStorage().getBoolean(&quot;velocity.email.template.references.strict.check&quot;, false);</span>
    }

    default String getDeviceTesterValidicId() {
<span class="nc" id="L1288">        return getConfigStorage().getString(&quot;validic.device.tester.validic.id&quot;, &quot;61d5ca1764bc8d0020ddc3f0&quot;);</span>
    }

    default Set&lt;String&gt; getAvailableValidicDevices() {
<span class="fc" id="L1292">        String availableValidDeviceNames = getConfigStorage().getString(&quot;validic.available.devices&quot;, &quot;FatSecret,Fitbit,Polar,Strava,Withings&quot;);</span>

<span class="fc" id="L1294">        return stream(availableValidDeviceNames.split(&quot;,&quot;))</span>
<span class="fc" id="L1295">                .filter(StringUtils::isNotBlank)</span>
<span class="fc" id="L1296">                .collect(toSet());</span>
    }

    default int getOrgNetworkSyncBatchSize() {
<span class="fc" id="L1300">        return getConfigStorage().getInt(&quot;org.network.sync.batch.size&quot;, 1000);</span>
    }

    default int getOrgNetworkSyncConcurrency() {
<span class="fc" id="L1304">        return getConfigStorage().getInt(&quot;org.network.sync.concurrency&quot;, 10);</span>
    }

<span class="fc" id="L1307">    default String getPKBRegion() { return getConfigStorage().getString(&quot;pkb.region&quot;,&quot;UK&quot;); }</span>

    default boolean isAppointmentMessagingEnabled() {
<span class="fc" id="L1310">        return getConfigStorage().getBoolean(&quot;appointment.messaging.enabled&quot;, true);</span>
    }

    default boolean isExceptionForMissingSubjectAndContentEnabled() {
<span class="nc" id="L1314">        return getConfigStorage().getBoolean(&quot;message.missing.subject.content.expection&quot;, true);</span>
    }

    default int getPKBPersonListFetchSize() {
<span class="fc" id="L1318">        return getConfigStorage().getInt(&quot;PKBPersonListFetchSize&quot;, 10000);</span>
    }

    default boolean isExceptionForMissingSourceEnabled() {
<span class="nc" id="L1322">        return getConfigStorage().getBoolean(&quot;consistency.check.data.point.source.null.exception&quot;, true);</span>
    }

    default boolean isAppointmentPartnersEnabled() {
<span class="fc" id="L1326">        return getConfigStorage().getBoolean(&quot;feature.appointment.partners.enabled&quot;, true);</span>
    }

    default int getUploadedDataFetchSize() {
<span class="fc" id="L1330">        return getConfigStorage().getInt(&quot;uploadedDataFetchSize&quot;, 200);</span>
    }

    default int getInstituteUserFetchSize() {
<span class="fc" id="L1334">        return getConfigStorage().getInt(&quot;instituteUserFetchSize&quot;, 10000);</span>
    }

    default boolean isExceptionForNoUniqueIdInMessageEnabled() {
<span class="nc" id="L1338">        return getConfigStorage().getBoolean(&quot;consistency.check.message.unique.id.null.exception&quot;, true);</span>
    }

    default int getInboxConversationSearchBatchSize() {
<span class="fc" id="L1342">        return getConfigStorage().getInt(&quot;inboxConversationSearchBatchSize&quot;, 10000);</span>
    }

    default String getDeleteRequestSubscriptionName() {
<span class="fc" id="L1346">        return getConfigStorage().getString(&quot;deletion.service.delete-request-subscription-name&quot;, &quot;deleteRequest-phr&quot;);</span>
    }

    default String getDeleteResponseTopicName() {
<span class="fc" id="L1350">        return getConfigStorage().getString(&quot;deletion.service.delete-response-topic-name&quot;, &quot;deleteResponse&quot;);</span>
    }

    default String getDeletionServiceSchema() {
<span class="fc" id="L1354">        return getConfigStorage().getString(&quot;deletion.service.schema&quot;, &quot;deletion_service_phr&quot;);</span>
    }
    
    default int getGrpcServerPort() {
<span class="fc" id="L1358">        return getConfigStorage().getInt(&quot;grpc.server.port&quot;, 48090);</span>
    }
    
    default int getGrpcServerMessageBatchSize(){
<span class="fc" id="L1362">        return getConfigStorage().getInt(&quot;grpc.server.message.batchSize&quot;, 100);</span>
    }

    default int getGrpcServerMessageBufferTimeout(){
<span class="fc" id="L1366">        return getConfigStorage().getInt(&quot;grpc.server.message.bufferTimeout&quot;, 500);</span>
    }

    default boolean isDocumentFakeGcsStoreEnabled() {
<span class="fc" id="L1370">        return getConfigStorage().getBoolean(&quot;documents.gcs.fakeservice.enabled&quot;, false);</span>
    }

    default String getDocumentFakeGcsStoreHost() {
<span class="fc" id="L1374">        return getConfigStorage().getString(&quot;documents.gcs.fakeservice.host&quot;, &quot;localhost:4443&quot;);</span>
    }

    default String getDocumentGcsStoreBucketName() {
<span class="fc" id="L1378">        return getConfigStorage().getString(&quot;documents.gcs.bucket.name&quot;, &quot;phr-documents&quot;);</span>
    }

    default int getOrphanedGcsDocumentDeletionPageSize() {
<span class="fc" id="L1382">        return getConfigStorage().getInt(&quot;documents.gcs.orphaned.pageSize&quot;, 1000);</span>
    }
    default boolean isExceptionForCodingMatchPrivacyFlagEnabled() {
<span class="fc" id="L1385">        return getConfigStorage().getBoolean(&quot;codingmatch.privacymismatchexception.enabled&quot;, false);</span>
    }

    default boolean isEmisDeduplicationEnabled() {
<span class="fc" id="L1389">        return getConfigStorage().getBoolean(&quot;emis.deduplication.enabled&quot;, false);</span>
    }

    default String getVcMaxWarningDate() {
<span class="fc" id="L1393">        return getConfigStorage().getString(&quot;vc_max_warning_date&quot;, &quot;2018-07-26T00:00:00Z&quot;);</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>
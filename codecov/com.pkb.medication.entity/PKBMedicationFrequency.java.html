<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PKBMedicationFrequency.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">E2E Tests Coverage Report</a> &gt; <a href="index.source.html" class="el_package">com.pkb.medication.entity</a> &gt; <span class="el_source">PKBMedicationFrequency.java</span></div><h1>PKBMedicationFrequency.java</h1><pre class="source lang-java linenums">package com.pkb.medication.entity;

import java.io.Serializable;

import org.jetbrains.annotations.Nullable;

import com.pkb.exception.PKBPluginException;

<span class="fc" id="L9">public enum PKBMedicationFrequency implements Serializable {</span>

<span class="fc" id="L11">    BLANK(&quot;&quot;, &quot;&quot;), ONCE_A_DAY(&quot;od&quot;, &quot;pkbMedicationFrequency.txt.once_a_day&quot;), TWICE_A_DAY(&quot;bd&quot;, &quot;pkbMedicationFrequency.txt.twice_a_day&quot;),</span>
<span class="fc" id="L12">    THREE_TIMES_A_DAY(&quot;tds&quot;, &quot;pkbMedicationFrequency.txt.three_times_a_day&quot;),</span>
<span class="fc" id="L13">    FOUR_TIMES_A_DAY(&quot;qds&quot;, &quot;pkbMedicationFrequency.txt.four_times_a_day&quot;),</span>
<span class="fc" id="L14">    EVERY_4_HOURS(&quot;q4h&quot;, &quot;pkbMedicationFrequency.txt.every_4_hours&quot;), EVERY_OTHER_DAY(&quot;qod&quot;, &quot;pkbMedicationFrequency.txt.every_other_day&quot;),</span>
<span class="fc" id="L15">    TAKE_AS_NEEDED(&quot;prn&quot;, &quot;pkbMedicationFrequency.txt.take_as_needed&quot;),</span>
<span class="fc" id="L16">    TAKE_AS_DIRECTED(&quot;ud&quot;, &quot;pkbMedicationFrequency.txt.take_as_directed&quot;);</span>

    private String code;
    private String value;

<span class="fc" id="L21">    PKBMedicationFrequency(String code, String value) {</span>
<span class="fc" id="L22">        this.code = code;</span>
<span class="fc" id="L23">        this.value = value;</span>
<span class="fc" id="L24">    }</span>

    public String getCode() {
<span class="fc" id="L27">        return code;</span>
    }

    public String getValue() {
<span class="fc" id="L31">        return value;</span>
    }

    public CDAMedicationFrequency toCDAMedicationFrequency() {
<span class="fc" id="L35">        CDAMedicationFrequency cdaMedicationFrequency = new CDAMedicationFrequency();</span>
<span class="pc bpc" id="L36" title="6 of 10 branches missed.">        switch (this) {</span>
        case BLANK:

<span class="nc" id="L39">            break;</span>

        case ONCE_A_DAY:

<span class="fc" id="L43">            cdaMedicationFrequency.setValue(24L);</span>
<span class="fc" id="L44">            cdaMedicationFrequency.setUnit(HL7UnitOfTime.HOUR);</span>
<span class="fc" id="L45">            break;</span>

        case TWICE_A_DAY:

<span class="nc" id="L49">            cdaMedicationFrequency.setValue(12L);</span>
<span class="nc" id="L50">            cdaMedicationFrequency.setUnit(HL7UnitOfTime.HOUR);</span>
<span class="nc" id="L51">            break;</span>

        case THREE_TIMES_A_DAY:

<span class="fc" id="L55">            cdaMedicationFrequency.setValue(8L);</span>
<span class="fc" id="L56">            cdaMedicationFrequency.setUnit(HL7UnitOfTime.HOUR);</span>
<span class="fc" id="L57">            break;</span>

        case FOUR_TIMES_A_DAY:

<span class="fc" id="L61">            cdaMedicationFrequency.setValue(6L);</span>
<span class="fc" id="L62">            cdaMedicationFrequency.setUnit(HL7UnitOfTime.HOUR);</span>
<span class="fc" id="L63">            break;</span>

        case EVERY_4_HOURS:

<span class="nc" id="L67">            cdaMedicationFrequency.setValue(4L);</span>
<span class="nc" id="L68">            cdaMedicationFrequency.setUnit(HL7UnitOfTime.HOUR);</span>
<span class="nc" id="L69">            break;</span>

        case EVERY_OTHER_DAY:

<span class="nc" id="L73">            cdaMedicationFrequency.setValue(48L);</span>
<span class="nc" id="L74">            cdaMedicationFrequency.setUnit(HL7UnitOfTime.HOUR);</span>
<span class="nc" id="L75">            break;</span>

        case TAKE_AS_NEEDED:

<span class="fc" id="L79">            cdaMedicationFrequency.setPriorityCode(HL7ActPriorityCode.PRN);</span>
<span class="fc" id="L80">            break;</span>

        case TAKE_AS_DIRECTED:

<span class="nc" id="L84">            cdaMedicationFrequency.setPriorityCode(HL7ActPriorityCode.UD);</span>
<span class="nc" id="L85">            break;</span>

        default:

<span class="nc" id="L89">            throw new PKBPluginException(&quot;Unknown PKBMedicationFrequency value '&quot; + toString() + &quot;'&quot;);</span>
        }

<span class="fc" id="L92">        return cdaMedicationFrequency;</span>
    }

    @Nullable
    public static PKBMedicationFrequency getFromCode(String code) {
<span class="pc bpc" id="L97" title="1 of 2 branches missed.">        for (PKBMedicationFrequency frequency : values()) {</span>
<span class="fc bfc" id="L98" title="All 2 branches covered.">            if (frequency.code.equals(code)) {</span>
<span class="fc" id="L99">                return frequency;</span>
            }
        }
<span class="nc" id="L102">        return null;</span>
    }

    public static PKBMedicationFrequency fromCDAMedicationFrequency(CDAMedicationFrequency cdaMedicationFrequency) {

<span class="pc bpc" id="L107" title="2 of 6 branches missed.">        if ((cdaMedicationFrequency == null) || ((cdaMedicationFrequency.getValue() == null) &amp;&amp; (cdaMedicationFrequency.getUnit() == null)</span>
<span class="pc bpc" id="L108" title="1 of 2 branches missed.">                &amp;&amp; (cdaMedicationFrequency.getPriorityCode() == null))) {</span>
<span class="nc" id="L109">            return BLANK;</span>
        }

<span class="pc bpc" id="L112" title="1 of 4 branches missed.">        if ((cdaMedicationFrequency.getPriorityCode() != null) &amp;&amp; &quot;prn&quot;.equals(cdaMedicationFrequency.getPriorityCode().getCode())) {</span>
<span class="fc" id="L113">            return TAKE_AS_NEEDED;</span>
        }

<span class="pc bpc" id="L116" title="3 of 4 branches missed.">        if ((cdaMedicationFrequency.getPriorityCode() != null) &amp;&amp; &quot;ud&quot;.equals(cdaMedicationFrequency.getPriorityCode().getCode())) {</span>
<span class="nc" id="L117">            return TAKE_AS_DIRECTED;</span>
        }

<span class="pc bpc" id="L120" title="1 of 2 branches missed.">        if (cdaMedicationFrequency.getValue() == null) {</span>
<span class="nc" id="L121">            throw new PKBPluginException(&quot;Cannot convert CDAMedicationFrequency to PKBMedicationFrequency: value is null&quot;);</span>
        }

<span class="pc bpc" id="L124" title="1 of 2 branches missed.">        if (HL7UnitOfTime.HOUR != cdaMedicationFrequency.getUnit()) {</span>
<span class="nc" id="L125">            throw new PKBPluginException(</span>
<span class="nc" id="L126">                    &quot;Cannot convert CDAMedicationFrequency to PKBMedicationFrequency: unit is '&quot; + cdaMedicationFrequency.getUnit() + &quot;'&quot;);</span>
        }

<span class="pc bpc" id="L129" title="4 of 7 branches missed.">        switch (cdaMedicationFrequency.getValue().intValue()) {</span>
        case 48:
<span class="nc" id="L131">            return EVERY_OTHER_DAY;</span>
        case 24:
<span class="fc" id="L133">            return ONCE_A_DAY;</span>
        case 12:
<span class="nc" id="L135">            return TWICE_A_DAY;</span>
        case 8:
<span class="fc" id="L137">            return THREE_TIMES_A_DAY;</span>
        case 6:
<span class="fc" id="L139">            return FOUR_TIMES_A_DAY;</span>
        case 4:
<span class="nc" id="L141">            return EVERY_4_HOURS;</span>
        default:
<span class="nc" id="L143">            throw new PKBPluginException(</span>
<span class="nc" id="L144">                    &quot;Cannot convert CDAMedicationFrequency to PKBMedicationFrequency: value is &quot; + cdaMedicationFrequency.getValue());</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>
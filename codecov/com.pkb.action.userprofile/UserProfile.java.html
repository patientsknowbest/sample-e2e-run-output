<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>UserProfile.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">E2E Tests Coverage Report</a> &gt; <a href="index.source.html" class="el_package">com.pkb.action.userprofile</a> &gt; <span class="el_source">UserProfile.java</span></div><h1>UserProfile.java</h1><pre class="source lang-java linenums">package com.pkb.action.userprofile;

import com.google.common.annotations.VisibleForTesting;
import com.pkb.entities.enums.NationalIdType;
import com.pkb.entities.enums.UserStatus;
import com.pkb.entities.enums.UserType;
import com.pkb.user.entity.NationalId;
import com.pkb.user.entity.PKBPerson;
import com.pkb.user.entity.PersonContact;
import com.pkb.util.UIDate;

import java.time.Instant;
import java.util.List;

import static com.pkb.entities.enums.UserStatus.DEAD;

/**
 * View-model class for the {@link ManageUserProfileAction} class. It is a projection of {@link PKBPerson} properties which
 * are accessible through the userprofile form. Ideally the {@code manageProfile.jsp} and {@code manageProfile.jsp} shouldn't
 * refer to any variables beside the members of this class (we are not there yet).
 */
public class UserProfile {

    private Long id;

    private String title;

    private String firstName;

    private String middleName;

    private String lastName;

    private UserType userType;

    private String skypeId;

    private String phone;

<span class="fc" id="L40">    private UIDate dob = new UIDate();</span>

    private Instant deathTimestamp;

    private String organizationName;

    private String organizationUnit;

    private String jobTitle;

    private String address1;

    private String address2;

    private String city;

    private String state;

    private String postalCode;

    private String country;

    private String timeZoneId;

    private String languageCode;

    private int gender;

    private List&lt;String&gt; groupedTeamLevelIds;

    private List&lt;String&gt; groupedOrgLevelIds;

    private List&lt;NationalId&gt; nationalIds;

    private List&lt;String&gt; nationalIdNumbers;

    private List&lt;NationalIdType&gt; nationalIdTypes;

    private Long specialtyId;

<span class="fc" id="L80">    private SymptomsReminderCheckboxStatus symptomsReminder = new SymptomsReminderCheckboxStatus();</span>

    private Long primaryContactId;

    private List&lt;PersonContact&gt; contactList;

    private UserStatus status;
    private String instituteCountry;
    private String currentPassword;

<span class="fc" id="L90">    public UserProfile() {</span>

<span class="fc" id="L92">    }</span>

<span class="fc" id="L94">    public UserProfile(PKBPerson person) {</span>
<span class="fc" id="L95">        this.id = person.getId();</span>
<span class="fc" id="L96">        populateLimitedEditFields(person);</span>

<span class="fc" id="L98">        this.status = person.getStatus();</span>
<span class="fc" id="L99">        this.userType = person.getUserType();</span>

<span class="fc" id="L101">        this.skypeId = person.getSkypeId();</span>
<span class="fc" id="L102">        this.phone = person.getPhone();</span>

<span class="fc" id="L104">        this.timeZoneId = person.getTimeZoneId();</span>
<span class="fc bfc" id="L105" title="All 2 branches covered.">        if (person.getDeathTimestamp() != null) {</span>
<span class="fc" id="L106">            this.deathTimestamp = person.getDeathTimestamp().toInstant();</span>
        }

<span class="fc" id="L109">        this.languageCode = person.getLanguageCode();</span>
<span class="fc" id="L110">        this.organizationName = person.getOrganizationName();</span>
<span class="fc" id="L111">        this.organizationUnit = person.getOrganizationUnit();</span>
<span class="fc" id="L112">        this.jobTitle = person.getJobTitle();</span>
<span class="fc" id="L113">    }</span>

    public void populateLimitedEditFields(PKBPerson person) {
<span class="fc" id="L116">        this.title = person.getTitle();</span>
<span class="fc" id="L117">        this.firstName = person.getFirstName();</span>
<span class="fc" id="L118">        this.middleName = person.getMiddleName();</span>
<span class="fc" id="L119">        this.lastName = person.getLastName();</span>
<span class="fc" id="L120">        this.dob = new UIDate(person.findDateOfBirth().orElse(null));</span>
<span class="fc" id="L121">        this.address1 = person.getAddress1();</span>
<span class="fc" id="L122">        this.address2 = person.getAddress2();</span>
<span class="fc" id="L123">        this.city = person.getCity();</span>
<span class="fc" id="L124">        this.state = person.getState();</span>
<span class="fc" id="L125">        this.postalCode = person.getPostalCode();</span>
<span class="fc" id="L126">        this.country = person.getCountry();</span>
<span class="fc" id="L127">        this.gender = person.getGender();</span>
<span class="fc" id="L128">    }</span>

    void populateLimitedEditFieldsForPatient(PKBPerson person) {
<span class="fc" id="L131">        this.dob = new UIDate(person.findDateOfBirth().orElse(null));</span>
<span class="fc" id="L132">        this.gender = person.getGender();</span>
<span class="fc" id="L133">    }</span>

    public Long getId() {
<span class="fc" id="L136">        return id;</span>
    }

    public void setId(Long id) {
<span class="fc" id="L140">        this.id = id;</span>
<span class="fc" id="L141">    }</span>

    public String getIdString() {
<span class="nc" id="L144">        return getId().toString();</span>
    }

    public String getTitle() {
<span class="fc" id="L148">        return title;</span>
    }

    public void setTitle(String title) {
<span class="fc" id="L152">        this.title = title;</span>
<span class="fc" id="L153">    }</span>

    public String getFirstName() {
<span class="fc" id="L156">        return firstName;</span>
    }

    public void setFirstName(String firstName) {
<span class="fc" id="L160">        this.firstName = firstName;</span>
<span class="fc" id="L161">    }</span>

    public String getMiddleName() {
<span class="fc" id="L164">        return middleName;</span>
    }

    public void setMiddleName(String middleName) {
<span class="fc" id="L168">        this.middleName = middleName;</span>
<span class="fc" id="L169">    }</span>

    public String getLastName() {
<span class="fc" id="L172">        return lastName;</span>
    }

    public void setLastName(String lastName) {
<span class="fc" id="L176">        this.lastName = lastName;</span>
<span class="fc" id="L177">    }</span>

    public String getSkypeId() {
<span class="fc" id="L180">        return skypeId;</span>
    }

    public void setSkypeId(String skypeId) {
<span class="fc" id="L184">        this.skypeId = skypeId;</span>
<span class="fc" id="L185">    }</span>

    public String getPhone() {
<span class="fc" id="L188">        return phone;</span>
    }

    public void setPhone(String phone) {
<span class="fc" id="L192">        this.phone = phone;</span>
<span class="fc" id="L193">    }</span>

    public UIDate getDob() {
<span class="fc" id="L196">        return dob;</span>
    }

    public void setDob(UIDate dob) {
<span class="nc" id="L200">        this.dob = dob;</span>
<span class="nc" id="L201">    }</span>

    public String getOrganizationName() {
<span class="fc" id="L204">        return organizationName;</span>
    }

    public void setOrganizationName(String organizationName) {
<span class="fc" id="L208">        this.organizationName = organizationName;</span>
<span class="fc" id="L209">    }</span>

    public String getOrganizationUnit() {
<span class="fc" id="L212">        return organizationUnit;</span>
    }

    public void setOrganizationUnit(String organizationUnit) {
<span class="fc" id="L216">        this.organizationUnit = organizationUnit;</span>
<span class="fc" id="L217">    }</span>

    public String getJobTitle() {
<span class="fc" id="L220">        return jobTitle;</span>
    }

    public void setJobTitle(String jobTitle) {
<span class="fc" id="L224">        this.jobTitle = jobTitle;</span>
<span class="fc" id="L225">    }</span>

    public String getAddress1() {
<span class="fc" id="L228">        return address1;</span>
    }

    public void setAddress1(String address1) {
<span class="fc" id="L232">        this.address1 = address1;</span>
<span class="fc" id="L233">    }</span>

    public String getAddress2() {
<span class="fc" id="L236">        return address2;</span>
    }

    public void setAddress2(String address2) {
<span class="fc" id="L240">        this.address2 = address2;</span>
<span class="fc" id="L241">    }</span>

    public String getCity() {
<span class="fc" id="L244">        return city;</span>
    }

    public void setCity(String city) {
<span class="fc" id="L248">        this.city = city;</span>
<span class="fc" id="L249">    }</span>

    public String getState() {
<span class="fc" id="L252">        return state;</span>
    }

    public void setState(String state) {
<span class="fc" id="L256">        this.state = state;</span>
<span class="fc" id="L257">    }</span>

    public String getPostalCode() {
<span class="fc" id="L260">        return postalCode;</span>
    }

    public void setPostalCode(String postalCode) {
<span class="fc" id="L264">        this.postalCode = postalCode;</span>
<span class="fc" id="L265">    }</span>

    public String getCountry() {
<span class="fc" id="L268">        return country;</span>
    }

    public void setCountry(String country) {
<span class="fc" id="L272">        this.country = country;</span>
<span class="fc" id="L273">    }</span>

    public String getTimeZoneId() {
<span class="fc" id="L276">        return timeZoneId;</span>
    }

    public void setTimeZoneId(String timeZoneId) {
<span class="fc" id="L280">        this.timeZoneId = timeZoneId;</span>
<span class="fc" id="L281">    }</span>

    public void setLanguageCode(String languageCode) {
<span class="fc" id="L284">        this.languageCode = languageCode;</span>
<span class="fc" id="L285">    }</span>

    public String getLanguageCode() {
<span class="fc" id="L288">        return languageCode;</span>
    }

    public void setGender(int gender) {
<span class="fc" id="L292">        this.gender = gender;</span>
<span class="fc" id="L293">    }</span>

    public int getGender() {
<span class="fc" id="L296">        return gender;</span>
    }

    public List&lt;String&gt; getGroupedTeamLevelIds() {
<span class="fc" id="L300">        return groupedTeamLevelIds;</span>
    }

    public void setGroupedTeamLevelIds(List&lt;String&gt; groupedTeamLevelIds) {
<span class="fc" id="L304">        this.groupedTeamLevelIds = groupedTeamLevelIds;</span>
<span class="fc" id="L305">    }</span>

    public List&lt;String&gt; getGroupedOrgLevelIds() {
<span class="fc" id="L308">        return groupedOrgLevelIds;</span>
    }

    public void setGroupedOrgLevelIds(List&lt;String&gt; groupedOrgLevelIds) {
<span class="fc" id="L312">        this.groupedOrgLevelIds = groupedOrgLevelIds;</span>
<span class="fc" id="L313">    }</span>

    public Long getSpecialtyId() {
<span class="fc" id="L316">        return specialtyId;</span>
    }

    public void setSpecialtyId(Long specialtyId) {
<span class="fc" id="L320">        this.specialtyId = specialtyId;</span>
<span class="fc" id="L321">    }</span>

    public Instant getDeathTimestamp() {
<span class="fc" id="L324">        return deathTimestamp;</span>
    }

    public void setDeathTimestamp(Instant deathTimestamp) {
<span class="nc" id="L328">        this.deathTimestamp = deathTimestamp;</span>
<span class="nc" id="L329">    }</span>

    public SymptomsReminderCheckboxStatus getSymptomsReminder() {
<span class="fc" id="L332">        return symptomsReminder;</span>
    }

    public void setSymptomsReminder(SymptomsReminderCheckboxStatus symptomsReminder) {
<span class="fc" id="L336">        this.symptomsReminder = symptomsReminder;</span>
<span class="fc" id="L337">    }</span>

    public Long getPrimaryContactId() {
<span class="fc" id="L340">        return primaryContactId;</span>
    }

    public void setPrimaryContactId(String primaryContactId) {
<span class="pc bpc" id="L344" title="2 of 4 branches missed.">        if (primaryContactId != null &amp;&amp; !primaryContactId.isEmpty()) {</span>
<span class="fc" id="L345">            this.primaryContactId = Long.parseLong(primaryContactId);</span>
        }
<span class="fc" id="L347">    }</span>

    public List&lt;PersonContact&gt; getContactList() {
<span class="fc" id="L350">        return contactList;</span>
    }

    public void setContactList(List&lt;PersonContact&gt; contactList) {
<span class="fc" id="L354">        this.contactList = contactList;</span>
<span class="fc" id="L355">    }</span>

    UserType getUserType() {
<span class="fc" id="L358">        return userType;</span>
    }

    void setUserType(UserType userType) {
<span class="fc" id="L362">        this.userType = userType;</span>
<span class="fc" id="L363">    }</span>

    @VisibleForTesting
    void setStatus(UserStatus status) {
<span class="nc" id="L367">        this.status = status;</span>
<span class="nc" id="L368">    }</span>

    public boolean isDeceased() {
<span class="fc bfc" id="L371" title="All 2 branches covered.">        return status == DEAD;</span>
    }

    public boolean isPatient() {
<span class="fc bfc" id="L375" title="All 2 branches covered.">        return userType == UserType.PATIENT;</span>
    }

    public boolean isProfessional() {
<span class="fc bfc" id="L379" title="All 2 branches covered.">        return userType == UserType.REG_CLINICIAN;</span>
    }

    public boolean isTeamCoordinator() {
<span class="fc bfc" id="L383" title="All 2 branches covered.">        return userType == UserType.INSTITUTE_ADMIN;</span>
    }

    public List&lt;NationalId&gt; getNationalIds() {
<span class="fc" id="L387">        return nationalIds;</span>
    }

    public void setNationalIds(List&lt;NationalId&gt; nationalIds) {
<span class="fc" id="L391">        this.nationalIds = nationalIds;</span>
<span class="fc" id="L392">    }</span>

    public List&lt;String&gt; getNationalIdNumbers() {
<span class="fc" id="L395">        return nationalIdNumbers;</span>
    }

    public void setNationalIdNumbers(List&lt;String&gt; nationalIdNumbers) {
<span class="fc" id="L399">        this.nationalIdNumbers = nationalIdNumbers;</span>
<span class="fc" id="L400">    }</span>

    public List&lt;NationalIdType&gt; getNationalIdTypes() {
<span class="fc" id="L403">        return nationalIdTypes;</span>
    }

    public void setNationalIdTypes(List&lt;NationalIdType&gt; nationalIdTypes) {
<span class="fc" id="L407">        this.nationalIdTypes = nationalIdTypes;</span>
<span class="fc" id="L408">    }</span>

    public String getInstituteCountry() {
<span class="fc" id="L411">        return instituteCountry;</span>
    }

    public void setInstituteCountry(String instituteCountry) {
<span class="fc" id="L415">        this.instituteCountry = instituteCountry;</span>
<span class="fc" id="L416">    }</span>

    public void setCurrentPassword(String currentPassword) {
<span class="fc" id="L419">        this.currentPassword = currentPassword;</span>
<span class="fc" id="L420">    }</span>

    public String getCurrentPassword() {
<span class="fc" id="L423">        return currentPassword;</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>
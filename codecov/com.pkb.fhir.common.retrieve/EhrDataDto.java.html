<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>EhrDataDto.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">E2E Tests Coverage Report</a> &gt; <a href="index.source.html" class="el_package">com.pkb.fhir.common.retrieve</a> &gt; <span class="el_source">EhrDataDto.java</span></div><h1>EhrDataDto.java</h1><pre class="source lang-java linenums">package com.pkb.fhir.common.retrieve;

import com.pkb.entities.enums.Route;
import org.apache.commons.lang3.StringUtils;

import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;
import java.util.UUID;

public class EhrDataDto {
    private long id;
    private UUID patientId;
    private UUID uniqueId;
    private MenuDataSourceInfo menuDataSourceInfo;
    private PrivacyFlagsDto privacyFlagsDto;

    EhrDataDto(long id, UUID patientId, UUID uniqueId, Long menuDataSourceOrgId,
               Long menuDataSourceTeamId, Long menuDataSourcePersonId, LocalDateTime created, LocalDateTime persistedDate,
               Long uploadedDataId, Long hl7PartnerId, String route, String responsibleOrganisationIdentifier,
               Long pfSourcePersonId, Long pfSourceTeamId, Long pfSourceOrgId, String pfAccessRoute, LocalDateTime pfChangeDate, String requireGeneral,
<span class="fc" id="L22">               String requireSexualHealth, String requireMentalHealth, String requireSocialCare) {</span>
<span class="fc" id="L23">        this.id = id;</span>
<span class="fc" id="L24">        this.patientId = patientId;</span>
<span class="fc" id="L25">        this.uniqueId = uniqueId;</span>

<span class="fc" id="L27">        this.menuDataSourceInfo = new MenuDataSourceInfo(menuDataSourceOrgId,</span>
                menuDataSourceTeamId, menuDataSourcePersonId, created, persistedDate,
<span class="pc bpc" id="L29" title="1 of 2 branches missed.">                uploadedDataId, hl7PartnerId, route == null ? null : Route.valueOf(route), responsibleOrganisationIdentifier);</span>

<span class="fc" id="L31">        this.privacyFlagsDto = createPrivacyFlagsDto(requireGeneral, requireSexualHealth,</span>
                requireMentalHealth, requireSocialCare, pfSourcePersonId,
<span class="fc bfc" id="L33" title="All 2 branches covered.">                pfSourceTeamId, pfSourceOrgId, pfAccessRoute == null ? null : Route.valueOf(pfAccessRoute), pfChangeDate);</span>
<span class="fc" id="L34">    }</span>

    public long getId() {
<span class="fc" id="L37">        return id;</span>
    }

    public UUID getPatientId() {
<span class="fc" id="L41">        return patientId;</span>
    }

    public UUID getUniqueId() {
<span class="fc" id="L45">        return uniqueId;</span>
    }

    private PrivacyFlagsDto createPrivacyFlagsDto(String requireGeneral, String requireSexualHealth,
                                                  String requireMentalHealth, String requireSocialCare, Long sourcePersonId,
                                                  Long sourceTeamId, Long sourceOrgId, Route accessRoute, LocalDateTime changeDate) {
<span class="fc" id="L51">        List&lt;String&gt; privacyFlags = new ArrayList&lt;&gt;();</span>
<span class="fc bfc" id="L52" title="All 2 branches covered.">        if (StringUtils.isNotBlank(requireGeneral)) {</span>
<span class="fc" id="L53">            privacyFlags.add(requireGeneral);</span>
        }
<span class="fc bfc" id="L55" title="All 2 branches covered.">        if (StringUtils.isNotBlank(requireSexualHealth)) {</span>
<span class="fc" id="L56">            privacyFlags.add(requireSexualHealth);</span>
        }
<span class="fc bfc" id="L58" title="All 2 branches covered.">        if (StringUtils.isNotBlank(requireMentalHealth)) {</span>
<span class="fc" id="L59">            privacyFlags.add(requireMentalHealth);</span>
        }
<span class="fc bfc" id="L61" title="All 2 branches covered.">        if (StringUtils.isNotBlank(requireSocialCare)) {</span>
<span class="fc" id="L62">            privacyFlags.add(requireSocialCare);</span>
        }

<span class="fc" id="L65">        return new PrivacyFlagsDto(sourcePersonId, sourceTeamId, sourceOrgId, accessRoute, changeDate, privacyFlags);</span>
    }

    public MenuDataSourceInfo getMenuDataSourceInfo() {
<span class="fc" id="L69">        return menuDataSourceInfo;</span>
    }

    public PrivacyFlagsDto getPrivacyFlagsDto() {
<span class="fc" id="L73">        return privacyFlagsDto;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>
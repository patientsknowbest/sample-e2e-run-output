<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>HL7Patient.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">E2E Tests Coverage Report</a> &gt; <a href="index.source.html" class="el_package">com.pkb.service.dataupload.hl7.segment</a> &gt; <span class="el_source">HL7Patient.java</span></div><h1>HL7Patient.java</h1><pre class="source lang-java linenums">package com.pkb.service.dataupload.hl7.segment;

import com.pkb.VersionDetails;
import com.pkb.common.datetime.DateTimeService;
import com.pkb.datamodel.Email;
import com.pkb.entities.enums.NationalIdType;
import com.pkb.exception.ApiCallMalformedException;
import com.pkb.institute.entity.Org;
import com.pkb.institute.entity.Team;
import com.pkb.service.dataupload.hl7.HL7ConnContext;
import com.pkb.service.dataupload.hl7.HL7MessageProperties;
import com.pkb.service.dataupload.hl7.HL7XmlDoc;
import com.pkb.service.dataupload.hl7.field.HL7Code;
import com.pkb.service.dataupload.hl7.field.HL7Id;
import com.pkb.service.dataupload.hl7.value.HL7Date;
import com.pkb.service.dataupload.hl7.value.HL7String;
import com.pkb.user.entity.NationalId;
import com.pkb.user.entity.OrgLevelId;
import com.pkb.user.entity.OrgLevelIdType;
import com.pkb.user.entity.TeamLevelId;
import com.pkb.user.entity.TeamLevelIdType;
import com.pkb.util.PKBServiceUtil;
import io.vavr.Tuple2;
import org.jetbrains.annotations.NotNull;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.w3c.dom.Element;
import org.w3c.dom.NodeList;

import java.time.Instant;
import java.util.ArrayList;
import java.util.EnumSet;
import java.util.LinkedList;
import java.util.List;
import java.util.Optional;
import java.util.Set;
import java.util.SortedSet;
import java.util.TreeSet;
import java.util.UUID;

import static com.pkb.datamodel.ImmutableDisclosingEmail.disclosingEmail;
import static com.pkb.util.Constants.APPLICATION_TZ;
import static org.apache.commons.lang3.StringUtils.isBlank;

/**
 * Parses a PID segment. See HL7 v2.4 Chapter 3.
 */
public class HL7Patient {

    private static final long ENFORCE_DATE_AFTER_X_YEARS_AGO = 200L;
    private static final String PUBLIC_ID_ASSIGNING_AUTHORITY = &quot;PKB&quot;;
    private static final String PUBLIC_ID_TYPE_CODE = &quot;PI&quot;;

    // TODO: Pick a common data type for collections of IDs 
<span class="fc" id="L55">    private List&lt;NationalId&gt; nationalIds = new LinkedList&lt;&gt;();</span>
<span class="fc" id="L56">    private SortedSet&lt;OrgLevelId&gt; orgLevelIds = new TreeSet&lt;&gt;();</span>
<span class="fc" id="L57">    private SortedSet&lt;TeamLevelId&gt; teamLevelIds = new TreeSet&lt;&gt;();</span>
    private UUID publicId;

<span class="fc" id="L60">    private HL7String title = new HL7String();</span>
<span class="fc" id="L61">    private HL7String lastName = new HL7String();</span>
<span class="fc" id="L62">    private HL7String firstName = new HL7String();</span>
<span class="fc" id="L63">    private HL7String middleName = new HL7String();</span>

<span class="fc" id="L65">    private HL7Date dob = new HL7Date();</span>
<span class="fc" id="L66">    private HL7String gender = new HL7String();</span>

<span class="fc" id="L68">    private HL7String address1 = new HL7String();</span>
<span class="fc" id="L69">    private HL7String address2 = new HL7String();</span>
<span class="fc" id="L70">    private HL7String city = new HL7String();</span>
<span class="fc" id="L71">    private HL7String state = new HL7String();</span>
<span class="fc" id="L72">    private HL7String zip = new HL7String();</span>

    // 3-character (alphabetic) form of ISO 3166
<span class="fc" id="L75">    private HL7String country3char = new HL7String();</span>

<span class="fc" id="L77">    private HL7String homePhone = new HL7String();</span>
<span class="fc" id="L78">    private HL7String mobilePhone = new HL7String();</span>
    private Email homeEmail;
<span class="fc" id="L80">    private HL7String workPhone = new HL7String();</span>
    private Email workEmail;

<span class="fc" id="L83">    private HL7Code languageCode = new HL7Code();</span>

<span class="fc" id="L85">    private HL7Date deathTimestamp = new HL7Date();</span>
<span class="fc" id="L86">    private HL7String deathIndicatorYN = new HL7String();</span>

<span class="fc" id="L88">    private static final Logger LOGGER = LoggerFactory.getLogger(java.lang.invoke.MethodHandles.lookup().lookupClass());</span>

    private HL7MessageProperties messageProperties;

<span class="fc" id="L92">    public HL7Patient(HL7MessageProperties messageProperties) {</span>
<span class="fc" id="L93">        this.messageProperties = messageProperties;</span>
<span class="fc" id="L94">    }</span>

    public void parsePid(Element pid, HL7ConnContext hl7ConnContext, List&lt;HL7Id&gt; ids, @NotNull DateTimeService dateTimeService, @NotNull String messageId) throws ApiCallMalformedException {

<span class="fc" id="L98">        parseIDs(hl7ConnContext, ids, dateTimeService);</span>

<span class="fc" id="L100">        title = HL7XmlDoc.getHl7Text(pid, &quot;PID.5.5&quot;);</span>
<span class="fc" id="L101">        lastName = HL7XmlDoc.getHl7Text(pid, &quot;PID.5.1&quot;);</span>
<span class="fc" id="L102">        firstName = HL7XmlDoc.getHl7Text(pid, &quot;PID.5.2&quot;);</span>
<span class="fc" id="L103">        middleName = HL7XmlDoc.getHl7Text(pid, &quot;PID.5.3&quot;);</span>

<span class="fc" id="L105">        HL7String dobText = HL7XmlDoc.getHl7Text(pid, &quot;PID.7.1&quot;);</span>
<span class="fc" id="L106">        dob = HL7XmlDoc.parseDateOrTimestamp(dobText, &quot;PID.7.1&quot;, messageProperties);</span>
<span class="fc" id="L107">        enforcePastDateRange(dob.getInstant(), dobText.getString(), &quot;DoB&quot;, dateTimeService);</span>

<span class="fc" id="L109">        gender = HL7XmlDoc.getHl7Text(pid, &quot;PID.8.1&quot;);</span>
<span class="fc" id="L110">        address1 = HL7XmlDoc.getHl7Text(pid, &quot;PID.11.1&quot;);</span>
<span class="fc" id="L111">        address2 = HL7XmlDoc.getHl7Text(pid, &quot;PID.11.2&quot;);</span>
<span class="fc" id="L112">        city = HL7XmlDoc.getHl7Text(pid, &quot;PID.11.3&quot;);</span>
<span class="fc" id="L113">        state = HL7XmlDoc.getHl7Text(pid, &quot;PID.11.4&quot;);</span>
<span class="fc" id="L114">        zip = HL7XmlDoc.getHl7Text(pid, &quot;PID.11.5&quot;);</span>
<span class="fc" id="L115">        country3char = HL7XmlDoc.getHl7Text(pid, &quot;PID.11.6&quot;);</span>

        // home phone/email
        // need to loop nodes; they may not all have the use code set
<span class="fc" id="L119">        NodeList homeContactNodes = pid.getElementsByTagName(&quot;PID.13&quot;);</span>
<span class="pc bpc" id="L120" title="1 of 4 branches missed.">        if ((homeContactNodes != null) &amp;&amp; (homeContactNodes.getLength() != 0)) {</span>
<span class="fc bfc" id="L121" title="All 2 branches covered.">            for (int i = 0; i &lt; homeContactNodes.getLength(); ++i) {</span>
                // TODO: Build an XTN parser?
<span class="fc" id="L123">                HL7String contact_13_1 = HL7XmlDoc.getHl7Text((Element) homeContactNodes.item(i), &quot;PID.13.1&quot;);</span>
<span class="fc" id="L124">                HL7String useCode = HL7XmlDoc.getHl7Text((Element) homeContactNodes.item(i), &quot;PID.13.2&quot;);</span>
<span class="fc" id="L125">                HL7String contact_13_4 = HL7XmlDoc.getHl7Text((Element) homeContactNodes.item(i), &quot;PID.13.4&quot;);</span>
<span class="fc bfc" id="L126" title="All 2 branches covered.">                if (&quot;NET&quot;.equals(useCode.getString())) {</span>
                    try {
<span class="fc bfc" id="L128" title="All 2 branches covered.">                        if (contact_13_4.isNotBlank()) {</span>
<span class="fc" id="L129">                            homeEmail = disclosingEmail(contact_13_4.getString());</span>
                        } else {
<span class="fc bfc" id="L131" title="All 2 branches covered.">                            homeEmail = isBlank(contact_13_1.getString()) ? null : disclosingEmail(contact_13_1.getString());</span>
                        }
<span class="nc" id="L133">                    } catch (Exception exception) {</span>
<span class="nc" id="L134">                        homeEmail = null;</span>
                        // We shouldn't propagate this exception because we don't want to disrupt record creation, but
                        // log a warning so we can monitor volumes and/or follow up with sender
<span class="nc" id="L137">                        LOGGER.warn(&quot;Error processing email address in message {} from sender {}&quot;, messageId, hl7ConnContext, exception);</span>
<span class="pc" id="L138">                    }</span>
<span class="fc bfc" id="L139" title="All 2 branches covered.">                } else if (&quot;PRN&quot;.equals(useCode.getString())) {</span>
<span class="fc" id="L140">                    homePhone = contact_13_1;</span>
<span class="fc bfc" id="L141" title="All 2 branches covered.">                } else if (&quot;PRS&quot;.equals(useCode.getString())) {</span>
<span class="fc" id="L142">                    mobilePhone = contact_13_1;</span>
                } else {
<span class="fc" id="L144">                    LOGGER.warn(&quot;Unhandled PID.13.2 home number use code: {}.&quot;, useCode.getString());</span>
                }
            }
        }

        // work phone/email
        // need to loop nodes; they may not all have the use code set
<span class="fc" id="L151">        NodeList workContactNodes = pid.getElementsByTagName(&quot;PID.14&quot;);</span>
<span class="pc bpc" id="L152" title="1 of 4 branches missed.">        if ((workContactNodes != null) &amp;&amp; (workContactNodes.getLength() != 0)) {</span>
<span class="fc bfc" id="L153" title="All 2 branches covered.">            for (int i = 0; i &lt; workContactNodes.getLength(); ++i) {</span>
<span class="fc" id="L154">                HL7String contact_14_1 = HL7XmlDoc.getHl7Text((Element) workContactNodes.item(i), &quot;PID.14.1&quot;);</span>
<span class="fc" id="L155">                HL7String useCode = HL7XmlDoc.getHl7Text((Element) workContactNodes.item(i), &quot;PID.14.2&quot;);</span>
<span class="fc" id="L156">                HL7String contact_14_4 = HL7XmlDoc.getHl7Text((Element) workContactNodes.item(i), &quot;PID.14.4&quot;);</span>
<span class="fc bfc" id="L157" title="All 2 branches covered.">                if (&quot;NET&quot;.equals(useCode.getString())) {</span>
                    try {
<span class="fc bfc" id="L159" title="All 2 branches covered.">                        if (contact_14_4.isNotBlank()) {</span>
<span class="fc" id="L160">                            workEmail = disclosingEmail(contact_14_4.getString());</span>
                        } else {
<span class="pc bpc" id="L162" title="1 of 2 branches missed.">                            workEmail = contact_14_1.isBlank() ? null : disclosingEmail(contact_14_1.getString());</span>
                        }
<span class="nc" id="L164">                    } catch (Exception exception) {</span>
<span class="nc" id="L165">                        workEmail = null;</span>
                        // We shouldn't propagate this exception because we don't want to disrupt record creation, but
                        // log a warning so we can monitor volumes and/or follow up with sender
<span class="nc" id="L168">                        LOGGER.warn(&quot;Error processing email address in message {} from sender {}&quot;, messageId, hl7ConnContext, exception);</span>
<span class="pc" id="L169">                    }</span>
<span class="pc bpc" id="L170" title="1 of 4 branches missed.">                } else if (&quot;WPN&quot;.equals(useCode.getString()) || useCode.isBlank()) {</span>
<span class="fc" id="L171">                    workPhone = contact_14_1;</span>
                } else {
<span class="nc" id="L173">                    LOGGER.warn(&quot;Unhandled PID.14.2 work number use code: {}.&quot;, useCode.getString());</span>
                }
            }
        }

<span class="fc" id="L178">        languageCode.parseCe(pid, &quot;PID&quot;, 15);</span>

<span class="fc" id="L180">        HL7String deathTimestampText = HL7XmlDoc.getHl7Text(pid, &quot;PID.29.1&quot;);</span>
<span class="fc" id="L181">        deathTimestamp = HL7XmlDoc.parseDateOrTimestamp(deathTimestampText, &quot;PID.29.1&quot;, messageProperties);</span>
<span class="fc" id="L182">        enforcePastDateRange(deathTimestamp.getInstant(), deathTimestampText.getString(), &quot;death timestamp&quot;, dateTimeService);</span>
<span class="fc" id="L183">        deathIndicatorYN = HL7XmlDoc.getHl7Text(pid, &quot;PID.30.1&quot;);</span>
<span class="fc" id="L184">    }</span>

    /**
     * For each ID provided in the PID segment, match it to the corresponding NationalIdType, OrgLevelIdType or TeamLevelIdType based on the
     * Assigning Authority and Type Code.
     * &lt;p&gt;
     * See also {@link http://dev.patientsknowbest.com/home/hl7-api/identifiers}
     *
     * @param hl7ConnContext Details of who is connecting
     * @param ids            The IDs, which have already been parsed from the PID segment by {@code HL7XmlDoc.getIDs()}
     */
    private void parseIDs(HL7ConnContext hl7ConnContext, List&lt;HL7Id&gt; ids, @NotNull DateTimeService dateTimeService) throws ApiCallMalformedException {
<span class="fc" id="L196">        Set&lt;NationalIdType&gt; nidtsSeen = EnumSet.noneOf(NationalIdType.class);</span>
<span class="fc bfc" id="L197" title="All 2 branches covered.">        for (HL7Id id : ids) {</span>

<span class="fc" id="L199">            Org org = hl7ConnContext.getSourceOrg();</span>

<span class="fc" id="L201">            String assigningAuthority = id.getAssigningAuthority().getString();</span>
<span class="fc" id="L202">            String typeCode = id.getIdTypeCode().getString();</span>

<span class="fc" id="L204">            Optional&lt;NationalIdType&gt; maybeNidt = NationalIdType.getNationalIdTypeFromAuthorityAndType(assigningAuthority, typeCode);</span>
<span class="fc" id="L205">            OrgLevelIdType olidt = org.getOrgLevelIdType(assigningAuthority, typeCode);</span>

<span class="fc" id="L207">            Tuple2&lt;Team, TeamLevelIdType&gt; teamAndTlidt = org.getTeams().stream()</span>
<span class="fc" id="L208">                    .map(team -&gt; new Tuple2&lt;&gt;(team, team.getTeamLevelIdType(assigningAuthority, typeCode)))</span>
<span class="fc bfc" id="L209" title="All 2 branches covered.">                    .filter(tuple -&gt; tuple._2 != null)</span>
<span class="fc" id="L210">                    .findFirst()</span>
<span class="fc" id="L211">                    .orElse(null);</span>

            // First check to see if AA/TC match a NationalIdType
<span class="fc bfc" id="L214" title="All 2 branches covered.">            if (maybeNidt.isPresent()) {</span>
<span class="fc" id="L215">                NationalIdType nidt = maybeNidt.get();</span>
                // Reject the message if we have received more than one instance of any given National ID Type, regardless of whether the
                // values were valid.
<span class="pc bpc" id="L218" title="1 of 2 branches missed.">                if (!nidtsSeen.add(nidt)) {</span>
<span class="nc" id="L219">                    throw new ApiCallMalformedException(&quot;More than one &quot; + nidt.getName() + &quot; provided&quot;);</span>
                }

<span class="fc" id="L222">                createAndAddNationalId(hl7ConnContext, dateTimeService, id.getValue().getString(), id.getIdTypeCodeJson(), nidt);</span>
<span class="fc bfc" id="L223" title="All 2 branches covered.">            } else if (olidt != null) {</span>
<span class="fc" id="L224">                OrgLevelId olid = new OrgLevelId(VersionDetails.of(hl7ConnContext.getEHRRequestContext()));</span>
<span class="fc" id="L225">                olid.setValue(id.getValue().getString());</span>
<span class="fc" id="L226">                olid.setType(olidt);</span>
<span class="fc" id="L227">                olid.setOrg(org);</span>
<span class="fc" id="L228">                addOrgLevelId(olid);</span>
<span class="fc bfc" id="L229" title="All 2 branches covered.">            } else if (teamAndTlidt != null) {</span>
<span class="fc" id="L230">                TeamLevelId tlid = new TeamLevelId(VersionDetails.of(hl7ConnContext.getEHRRequestContext()));</span>
<span class="fc" id="L231">                tlid.setValue(id.getValue().getString());</span>
<span class="fc" id="L232">                tlid.setType(teamAndTlidt._2());</span>
<span class="fc" id="L233">                tlid.setTeam(teamAndTlidt._1());</span>
<span class="fc" id="L234">                addTeamLevelId(tlid);</span>

<span class="pc bpc" id="L236" title="2 of 4 branches missed.">            } else if (PUBLIC_ID_ASSIGNING_AUTHORITY.equals(assigningAuthority) &amp;&amp; PUBLIC_ID_TYPE_CODE.equals(typeCode)) {</span>
<span class="fc" id="L237">                setPublicId(UUID.fromString(id.getValue().getString()));</span>
            } else {
                // No ID matched. Log a warning - we should discuss this with the sender to make sure they understand these IDs are being
                // silently ignored.
<span class="nc" id="L241">                LOGGER.warn(&quot;Unmatched ID for {} [{}] [{}]&quot;,</span>
<span class="nc" id="L242">                        hl7ConnContext.toString(), id.getAssigningAuthority().getRawValue(), id.getIdTypeCode().getRawValue());</span>
            }
<span class="fc" id="L244">        }</span>
<span class="fc" id="L245">    }</span>

    public void createAndAddNationalId(@NotNull HL7ConnContext hl7ConnContext, @NotNull DateTimeService dateTimeService,
                                       String nationalIdValue, String idTypeCodeJson, @NotNull NationalIdType nidt) {
<span class="fc" id="L249">        NationalId actualNationalId = nidt.getValidNationalIdAndType(nationalIdValue)</span>
<span class="fc" id="L250">                .map(actualNidt -&gt; {</span>
<span class="fc" id="L251">                    NationalId nId = new NationalId(actualNidt, VersionDetails.of(hl7ConnContext.getEHRRequestContext(), dateTimeService.now()));</span>
<span class="fc" id="L252">                    nId.setTypeCodeJson(idTypeCodeJson);</span>
<span class="fc" id="L253">                    PKBServiceUtil.checkSandboxNationalID(hl7ConnContext.getSourceOrg(), actualNidt.type(), actualNidt.value());</span>
<span class="fc" id="L254">                    return nId;</span>
<span class="pc" id="L255">                }).orElseThrow(() -&gt; new ApiCallMalformedException(nationalIdValue + &quot; is not a valid value for National ID type &quot; + nidt.getName()));</span>
<span class="fc" id="L256">        addNationalId(actualNationalId);</span>
<span class="fc" id="L257">    }</span>

    private void enforcePastDateRange(Instant date, String string, String fieldName, DateTimeService dateTimeService) throws ApiCallMalformedException {
<span class="fc bfc" id="L260" title="All 2 branches covered.">        if (date == null) {</span>
<span class="fc" id="L261">            return;</span>
        }

<span class="fc" id="L264">        Instant tomorrow = dateTimeService.tomorrow().atStartOfDay(APPLICATION_TZ).toInstant();</span>
<span class="fc" id="L265">        Instant tooOld = dateTimeService.today().minusYears(ENFORCE_DATE_AFTER_X_YEARS_AGO).atStartOfDay(APPLICATION_TZ).toInstant();</span>

<span class="pc bpc" id="L267" title="1 of 2 branches missed.">        if (tomorrow.isBefore(date)) {</span>
<span class="nc" id="L268">            throw new ApiCallMalformedException(&quot;Invalid &quot; + fieldName + &quot; (in future): &quot; + string);</span>
        }
<span class="pc bpc" id="L270" title="1 of 2 branches missed.">        if (tooOld.isAfter(date)) {</span>
<span class="nc" id="L271">            throw new ApiCallMalformedException(</span>
                    &quot;Invalid &quot; + fieldName + &quot; (more than &quot; + ENFORCE_DATE_AFTER_X_YEARS_AGO + &quot; years ago): &quot; + string);
        }
<span class="fc" id="L274">    }</span>

    public boolean isMarkedAsDeceased() {
<span class="fc bfc" id="L277" title="All 4 branches covered.">        return getDeathIndicatorYN().isNotBlank() &amp;&amp; &quot;Y&quot;.equalsIgnoreCase(getDeathIndicatorYN().getString());</span>
    }

    public boolean isDeathTimestampProvided() {
<span class="pc bpc" id="L281" title="1 of 4 branches missed.">        return getDeathTimestamp().getInstant() != null &amp;&amp; getDeathTimestamp().isNotHL7Null();</span>
    }

    /**
     * Demographic updates should only change an existing value if one was positively provided in the update message.
     * Normally, callers use isProvided() to check that a value was positively provided. A pre-existing value should
     * only be deleted if the update message positively provided the HL7 Null Value (&quot;&quot;).
     * &lt;p&gt;
     * However, phone numbers are more complicated since there are several values checked in a priority order. The
     * equivalent logic here is to only perform an update if at least one of the values was positively provided. This
     * method allows callers to check that before performing an update.
     * &lt;p&gt;
     * See PHR-8515 for the problems reported by customers.
     *
     * @return true - if any phone number was positively provided. false - otherwise.
     */
    public boolean isAnyPhoneNumberProvided() {
<span class="pc bpc" id="L298" title="1 of 6 branches missed.">        return getMobilePhone().isProvided() || getHomePhone().isProvided() || getWorkPhone().isProvided();</span>
    }

    /**
     * Multiple types of phone number can be provided in the HL7 message, but for now PKB can only store one. This
     * method returns the most significant non-blank phone number, else the empty string.
     * &lt;p&gt;
     * See PHR-3420 for a feature request to accept all phone numbers.
     *
     * @return The most significant non-blank phone number, else empty.
     */
    public String getMostSignificantPhoneNumber() {
<span class="fc bfc" id="L310" title="All 2 branches covered.">        if (getMobilePhone().isNotBlank()) {</span>
<span class="fc" id="L311">            return getMobilePhone().getString();</span>
<span class="fc bfc" id="L312" title="All 2 branches covered.">        } else if (getHomePhone().isNotBlank()) {</span>
<span class="fc" id="L313">            return getHomePhone().getString();</span>
<span class="fc bfc" id="L314" title="All 2 branches covered.">        } else if (getWorkPhone().isNotBlank()) {</span>
<span class="fc" id="L315">            return getWorkPhone().getString();</span>
        }
<span class="fc" id="L317">        return &quot;&quot;;</span>
    }

    public List&lt;NationalId&gt; getNationalIds() {
<span class="fc" id="L321">        return nationalIds;</span>
    }

    public void addNationalId(NationalId nationalId) {
<span class="pc bpc" id="L325" title="1 of 2 branches missed.">        if (nationalIds == null) {</span>
<span class="nc" id="L326">            nationalIds = new ArrayList&lt;&gt;();</span>
        }
<span class="fc" id="L328">        nationalIds.add(nationalId);</span>
<span class="fc" id="L329">    }</span>

    public SortedSet&lt;OrgLevelId&gt; getOrgLevelIds() {
<span class="fc" id="L332">        return orgLevelIds;</span>
    }

    public void addOrgLevelId(OrgLevelId orgLevelId) {
<span class="fc" id="L336">        orgLevelIds.add(orgLevelId);</span>
<span class="fc" id="L337">    }</span>

    public SortedSet&lt;TeamLevelId&gt; getTeamLevelIds() {
<span class="fc" id="L340">        return teamLevelIds;</span>
    }

    public void addTeamLevelId(TeamLevelId teamLevelId) {
<span class="fc" id="L344">        teamLevelIds.add(teamLevelId);</span>
<span class="fc" id="L345">    }</span>

    public UUID getPublicId() {
<span class="fc" id="L348">        return publicId;</span>
    }

    public void setPublicId(UUID publicId) {
<span class="fc" id="L352">        this.publicId = publicId;</span>
<span class="fc" id="L353">    }</span>

    public HL7String getTitle() {
<span class="fc" id="L356">        return title;</span>
    }

    public void setTitle(String title) {
<span class="fc" id="L360">        this.title = new HL7String(title);</span>
<span class="fc" id="L361">    }</span>

    public HL7String getLastName() {
<span class="fc" id="L364">        return lastName;</span>
    }

    public void setLastName(String lastName) {
<span class="fc" id="L368">        this.lastName = new HL7String(lastName);</span>
<span class="fc" id="L369">    }</span>

    public HL7String getFirstName() {
<span class="fc" id="L372">        return firstName;</span>
    }

    public void setFirstName(String firstName) {
<span class="fc" id="L376">        this.firstName = new HL7String(firstName);</span>
<span class="fc" id="L377">    }</span>

    public HL7Date getDob() {
<span class="fc" id="L380">        return dob;</span>
    }

    public void setDob(HL7Date dob) {
<span class="fc" id="L384">        this.dob = dob;</span>
<span class="fc" id="L385">    }</span>

    public HL7String getGender() {
<span class="fc" id="L388">        return gender;</span>
    }

    public void setGender(String gender) {
<span class="fc" id="L392">        this.gender = new HL7String(gender);</span>
<span class="fc" id="L393">    }</span>

    public HL7String getAddress1() {
<span class="fc" id="L396">        return address1;</span>
    }

    public void setAddress1(String address1) {
<span class="fc" id="L400">        this.address1 = new HL7String(address1);</span>
<span class="fc" id="L401">    }</span>

    public HL7String getAddress2() {
<span class="fc" id="L404">        return address2;</span>
    }

    public void setAddress2(String address2) {
<span class="fc" id="L408">        this.address2 = new HL7String(address2);</span>
<span class="fc" id="L409">    }</span>

    public HL7String getCity() {
<span class="fc" id="L412">        return city;</span>
    }

    public void setCity(String city) {
<span class="fc" id="L416">        this.city = new HL7String(city);</span>
<span class="fc" id="L417">    }</span>

    public HL7String getState() {
<span class="fc" id="L420">        return state;</span>
    }

    public void setState(String state) {
<span class="fc" id="L424">        this.state = new HL7String(state);</span>
<span class="fc" id="L425">    }</span>

    public HL7String getZip() {
<span class="fc" id="L428">        return zip;</span>
    }

    public void setZip(String zip) {
<span class="fc" id="L432">        this.zip = new HL7String(zip);</span>
<span class="fc" id="L433">    }</span>

    public HL7String getMiddleName() {
<span class="fc" id="L436">        return middleName;</span>
    }

    public void setMiddleName(String middleName) {
<span class="nc" id="L440">        this.middleName = new HL7String(middleName);</span>
<span class="nc" id="L441">    }</span>

    public HL7String getHomePhone() {
<span class="fc" id="L444">        return homePhone;</span>
    }

    public void setHomePhone(String homePhone) {
<span class="fc" id="L448">        this.homePhone = new HL7String(homePhone);</span>
<span class="fc" id="L449">    }</span>

    public HL7String getMobilePhone() {
<span class="fc" id="L452">        return mobilePhone;</span>
    }

    public void setMobilePhone(String mobilePhone) {
<span class="fc" id="L456">        this.mobilePhone = new HL7String(mobilePhone);</span>
<span class="fc" id="L457">    }</span>

    public HL7String getWorkPhone() {
<span class="fc" id="L460">        return workPhone;</span>
    }

    public void setWorkPhone(String workPhone) {
<span class="fc" id="L464">        this.workPhone = new HL7String(workPhone);</span>
<span class="fc" id="L465">    }</span>

    public Email getHomeEmail() {
<span class="fc" id="L468">        return homeEmail;</span>
    }

    public void setHomeEmail(Email homeEmail) {
<span class="fc" id="L472">        this.homeEmail = homeEmail;</span>
<span class="fc" id="L473">    }</span>

    public HL7Code getLanguageCode() {
<span class="fc" id="L476">        return languageCode;</span>
    }

    public void setLanguageCode(HL7Code languageCode) {
<span class="fc" id="L480">        this.languageCode = languageCode;</span>
<span class="fc" id="L481">    }</span>

    public HL7Date getDeathTimestamp() {
<span class="fc" id="L484">        return deathTimestamp;</span>
    }

    public void setDeathTimestamp(HL7Date deathTimestamp) {
<span class="fc" id="L488">        this.deathTimestamp = deathTimestamp;</span>
<span class="fc" id="L489">    }</span>

    public HL7String getDeathIndicatorYN() {
<span class="fc" id="L492">        return deathIndicatorYN;</span>
    }

    public void setDeathIndicatorYN(String deathIndicatorYN) {
<span class="fc" id="L496">        this.deathIndicatorYN = new HL7String(deathIndicatorYN);</span>
<span class="fc" id="L497">    }</span>

    public HL7String getCountry3char() {
<span class="fc" id="L500">        return country3char;</span>
    }

    public void setCountry3char(String country3char) {
<span class="fc" id="L504">        this.country3char = new HL7String(country3char);</span>
<span class="fc" id="L505">    }</span>

    public Email getWorkEmail() {
<span class="fc" id="L508">        return workEmail;</span>
    }

    public void setWorkEmail(Email workEmail) {
<span class="fc" id="L512">        this.workEmail = workEmail;</span>
<span class="fc" id="L513">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>
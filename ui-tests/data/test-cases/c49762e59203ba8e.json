{
  "uid" : "c49762e59203ba8e",
  "name" : "testPatientIdentifierToNonPatientConstraint",
  "fullName" : "com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint",
  "historyId" : "d5c8de1cdd0015246f5615a019c39962",
  "time" : {
    "start" : 1673400581096,
    "stop" : 1673400585503,
    "duration" : 4407
  },
  "description" : "A patient identifier, by which we mean a national id, org level id or team level id, will failat the database level if you try to add or update one pointing at a non-patient.",
  "descriptionHtml" : "<p>A patient identifier, by which we mean a national id, org level id or team level id, will failat the database level if you try to add or update one pointing at a non-patient.</p>\n",
  "status" : "passed",
  "flaky" : false,
  "newFailed" : false,
  "newBroken" : false,
  "newPassed" : false,
  "retriesCount" : 0,
  "retriesStatusChange" : false,
  "beforeStages" : [ ],
  "testStage" : {
    "description" : "A patient identifier, by which we mean a national id, org level id or team level id, will failat the database level if you try to add or update one pointing at a non-patient.",
    "status" : "passed",
    "steps" : [ {
      "name" : "Initialize environment",
      "time" : {
        "start" : 1673400581096,
        "stop" : 1673400581097,
        "duration" : 1
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "getAppGroupFromPool",
        "time" : {
          "start" : 1673400581096,
          "stop" : 1673400581096,
          "duration" : 0
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : false
      }, {
        "name" : "getApplicationInformation",
        "time" : {
          "start" : 1673400581097,
          "stop" : 1673400581097,
          "duration" : 0
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : false
      } ],
      "attachments" : [ {
        "uid" : "45f4510b22bdf187",
        "name" : "Application stack",
        "source" : "45f4510b22bdf187.txt",
        "type" : "text/plain",
        "size" : 4131
      }, {
        "uid" : "63026d24ec44747c",
        "name" : "Application build info",
        "source" : "63026d24ec44747c.txt",
        "type" : "text/plain",
        "size" : 1221
      } ],
      "parameters" : [ {
        "name" : "browser",
        "value" : "CHROME"
      }, {
        "name" : "description",
        "value" : "testPatientIdentifierToNonPatientConstraint(com.pkb.selenium.tests.database.DatabaseConstraintTest)"
      } ],
      "stepsCount" : 2,
      "attachmentsCount" : 2,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "Resetting GCS to its initial state",
      "time" : {
        "start" : 1673400581097,
        "stop" : 1673400581112,
        "duration" : 15
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Reset proxy",
      "time" : {
        "start" : 1673400581112,
        "stop" : 1673400583324,
        "duration" : 2212
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "description",
        "value" : "testPatientIdentifierToNonPatientConstraint(com.pkb.selenium.tests.database.DatabaseConstraintTest)"
      }, {
        "name" : "proxyProperties",
        "value" : "ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}"
      } ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "Clear internal states",
      "time" : {
        "start" : 1673400583324,
        "stop" : 1673400585336,
        "duration" : 2012
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Reset Toxiproxy (tcp proxy)",
      "time" : {
        "start" : 1673400585336,
        "stop" : 1673400585337,
        "duration" : 1
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Verify every email sent by the test was handled",
      "time" : {
        "start" : 1673400585337,
        "stop" : 1673400585342,
        "duration" : 5
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "fetchEmails",
        "time" : {
          "start" : 1673400585337,
          "stop" : 1673400585339,
          "duration" : 2
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        } ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      }, {
        "name" : "fetchMailgunEmails",
        "time" : {
          "start" : 1673400585339,
          "stop" : 1673400585342,
          "duration" : 3
        },
        "status" : "passed",
        "steps" : [ {
          "name" : "removeRequests",
          "time" : {
            "start" : 1673400585339,
            "stop" : 1673400585341,
            "duration" : 2
          },
          "status" : "passed",
          "steps" : [ ],
          "attachments" : [ ],
          "parameters" : [ {
            "name" : "appGroup",
            "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
          }, {
            "name" : "json",
            "value" : "{\"url\": \"/fake-mailgun\"}"
          } ],
          "stepsCount" : 0,
          "attachmentsCount" : 0,
          "shouldDisplayMessage" : false,
          "hasContent" : true
        } ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        } ],
        "stepsCount" : 1,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "message",
        "value" : "Not asserted email(s) found from previous (possibly faulty) test executions.\nSome e-mails might have been captured by test support after previous test asserted e-mails or \nprevious test execution was ended in an abnormal way (e.g.: debugging session was killed)."
      } ],
      "stepsCount" : 3,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "clear",
      "time" : {
        "start" : 1673400585342,
        "stop" : 1673400585344,
        "duration" : 2
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "deleteMappings",
        "time" : {
          "start" : 1673400585342,
          "stop" : 1673400585343,
          "duration" : 1
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        } ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      }, {
        "name" : "resetScenarios",
        "time" : {
          "start" : 1673400585343,
          "stop" : 1673400585343,
          "duration" : 0
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        } ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      }, {
        "name" : "deleteRequests",
        "time" : {
          "start" : 1673400585343,
          "stop" : 1673400585344,
          "duration" : 1
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        } ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "appGroup",
        "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
      } ],
      "stepsCount" : 3,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "Reset Rollbar Mock",
      "time" : {
        "start" : 1673400585344,
        "stop" : 1673400585345,
        "duration" : 1
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "putMapping",
        "time" : {
          "start" : 1673400585344,
          "stop" : 1673400585345,
          "duration" : 1
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        }, {
          "name" : "json",
          "value" : "{\"request\":{\"urlPathPattern\":\"/api/1/item/\",\"method\":\"POST\"},\"response\":{\"status\":200,\"jsonBody\":{\"err\":0,\"result\":{\"id\":null,\"uuid\":\"3d1fd99f-551c-44a7-8bc2-edf64015e588\"}},\"headers\":{\"Content-Type\":\"application/json\"}}}"
        } ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      }, {
        "name" : "putMapping",
        "time" : {
          "start" : 1673400585345,
          "stop" : 1673400585345,
          "duration" : 0
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        }, {
          "name" : "json",
          "value" : "{\"request\":{\"urlPathPattern\":\"/api/1/item/\",\"method\":\"OPTIONS\"},\"response\":{\"status\":200,\"headers\":{\"access-control-allow-credentials\":\"true\",\"access-control-allow-headers\":\"content-type,x-rollbar-access-token\",\"access-control-allow-methods\":\"GET,HEAD,PUT,PATCH,POST,DELETE\",\"access-control-allow-origin\":\"*\",\"alt-svc\":\"clear\",\"server\":\"nginx\",\"status\":\"204\",\"via\":\"1.1 google\",\"x-content-type-options\":\"nosniff\",\"x-frame-options\":\"SAMEORIGIN\",\"x-response-time\":\"0ms\"}}}"
        } ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 2,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "Reset FreshDesk Mock",
      "time" : {
        "start" : 1673400585345,
        "stop" : 1673400585346,
        "duration" : 1
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "putMapping",
        "time" : {
          "start" : 1673400585345,
          "stop" : 1673400585346,
          "duration" : 1
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        }, {
          "name" : "json",
          "value" : "{\"request\":{\"urlPathPattern\":\"/api/v2/tickets/12345/reply\",\"method\":\"POST\"},\"response\":{\"status\":200,\"jsonBody\":{},\"headers\":{\"Content-Type\":\"application/json\"}}}"
        } ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      }, {
        "name" : "putMapping",
        "time" : {
          "start" : 1673400585346,
          "stop" : 1673400585346,
          "duration" : 0
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        }, {
          "name" : "json",
          "value" : "{\"request\":{\"urlPathPattern\":\"/api/v2/tickets/12345\",\"method\":\"PUT\"},\"response\":{\"status\":200,\"jsonBody\":{},\"headers\":{\"Content-Type\":\"application/json\"}}}"
        } ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 2,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "updateNationalId",
      "time" : {
        "start" : 1673400585374,
        "stop" : 1673400585388,
        "duration" : 14
      },
      "status" : "broken",
      "statusMessage" : "Error during SQL update",
      "statusTrace" : "com.pkb.selenium.framework.driver.exception.PKBSeleniumException: Error during SQL update\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:44)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:30)\n\tat com.pkb.selenium.util.DBQueries.updateNationalId(DBQueries.java:842)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.lambda$testPatientIdentifierToNonPatientConstraint$0(DatabaseConstraintTest.java:26)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:89)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:73)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint(DatabaseConstraintTest.java:26)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat com.pkb.selenium.watchers.ConfigureDetailedLoggingRule$1.evaluate(ConfigureDetailedLoggingRule.java:29)\n\tat com.pkb.selenium.watchers.LogTestNameRule$1.evaluate(LogTestNameRule.java:22)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.InternalStateResetRule$1.evaluate(InternalStateResetRule.java:54)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.GcsResetRule$1.evaluate(GcsResetRule.java:29)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.postgresql.util.PSQLException: ERROR: Trying to create a patient-level identifier for a non-patient 1808\n  Where: PL/pgSQL function identifier_link_to_patient() line 8 at RAISE\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:268)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:39)\n\t... 24 more\n",
      "steps" : [ {
        "name" : "Execute DB update",
        "time" : {
          "start" : 1673400585374,
          "stop" : 1673400585388,
          "duration" : 14
        },
        "status" : "broken",
        "statusMessage" : "Error during SQL update",
        "statusTrace" : "com.pkb.selenium.framework.driver.exception.PKBSeleniumException: Error during SQL update\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:44)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:30)\n\tat com.pkb.selenium.util.DBQueries.updateNationalId(DBQueries.java:842)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.lambda$testPatientIdentifierToNonPatientConstraint$0(DatabaseConstraintTest.java:26)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:89)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:73)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint(DatabaseConstraintTest.java:26)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat com.pkb.selenium.watchers.ConfigureDetailedLoggingRule$1.evaluate(ConfigureDetailedLoggingRule.java:29)\n\tat com.pkb.selenium.watchers.LogTestNameRule$1.evaluate(LogTestNameRule.java:22)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.InternalStateResetRule$1.evaluate(InternalStateResetRule.java:54)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.GcsResetRule$1.evaluate(GcsResetRule.java:29)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.postgresql.util.PSQLException: ERROR: Trying to create a patient-level identifier for a non-patient 1808\n  Where: PL/pgSQL function identifier_link_to_patient() line 8 at RAISE\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:268)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:39)\n\t... 24 more\n",
        "steps" : [ {
          "name" : "Execute DB update",
          "time" : {
            "start" : 1673400585374,
            "stop" : 1673400585388,
            "duration" : 14
          },
          "status" : "broken",
          "statusMessage" : "Error during SQL update",
          "statusTrace" : "com.pkb.selenium.framework.driver.exception.PKBSeleniumException: Error during SQL update\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:44)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:30)\n\tat com.pkb.selenium.util.DBQueries.updateNationalId(DBQueries.java:842)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.lambda$testPatientIdentifierToNonPatientConstraint$0(DatabaseConstraintTest.java:26)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:89)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:73)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint(DatabaseConstraintTest.java:26)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat com.pkb.selenium.watchers.ConfigureDetailedLoggingRule$1.evaluate(ConfigureDetailedLoggingRule.java:29)\n\tat com.pkb.selenium.watchers.LogTestNameRule$1.evaluate(LogTestNameRule.java:22)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.InternalStateResetRule$1.evaluate(InternalStateResetRule.java:54)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.GcsResetRule$1.evaluate(GcsResetRule.java:29)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.postgresql.util.PSQLException: ERROR: Trying to create a patient-level identifier for a non-patient 1808\n  Where: PL/pgSQL function identifier_link_to_patient() line 8 at RAISE\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:268)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:39)\n\t... 24 more\n",
          "steps" : [ ],
          "attachments" : [ ],
          "parameters" : [ {
            "name" : "update",
            "value" : "INSERT INTO nationalid (id, type, value, person_id, editdate) VALUES ((SELECT max(id) FROM nationalid) + 1, 'NHS_NUMBER', '9876543210', (SELECT person_id FROM personcontact WHERE contactvalue = 'emis@pkbtest.com'), now()) ON CONFLICT (type, person_id) DO UPDATE SET value = '9876543210'"
          }, {
            "name" : "database",
            "value" : "Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}"
          } ],
          "stepsCount" : 0,
          "attachmentsCount" : 0,
          "shouldDisplayMessage" : true,
          "hasContent" : true
        } ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "update",
          "value" : "INSERT INTO nationalid (id, type, value, person_id, editdate) VALUES ((SELECT max(id) FROM nationalid) + 1, 'NHS_NUMBER', '9876543210', (SELECT person_id FROM personcontact WHERE contactvalue = 'emis@pkbtest.com'), now()) ON CONFLICT (type, person_id) DO UPDATE SET value = '9876543210'"
        }, {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        } ],
        "stepsCount" : 1,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "user",
        "value" : "User{email=emis@pkbtest.com, password=P@55word, teams=[], publicId=ac5bcd4b-dca1-4859-9513-a9aff966c9eb, generateEmail=false}"
      }, {
        "name" : "nationalId",
        "value" : "NationalId{type=NHS, value=9876543210}"
      }, {
        "name" : "appGroup",
        "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
      } ],
      "stepsCount" : 2,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "updateNationalId",
      "time" : {
        "start" : 1673400585440,
        "stop" : 1673400585449,
        "duration" : 9
      },
      "status" : "broken",
      "statusMessage" : "Error during SQL update",
      "statusTrace" : "com.pkb.selenium.framework.driver.exception.PKBSeleniumException: Error during SQL update\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:44)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:30)\n\tat com.pkb.selenium.util.DBQueries.updateNationalId(DBQueries.java:842)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.lambda$testPatientIdentifierToNonPatientConstraint$1(DatabaseConstraintTest.java:28)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:89)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:73)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint(DatabaseConstraintTest.java:28)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat com.pkb.selenium.watchers.ConfigureDetailedLoggingRule$1.evaluate(ConfigureDetailedLoggingRule.java:29)\n\tat com.pkb.selenium.watchers.LogTestNameRule$1.evaluate(LogTestNameRule.java:22)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.InternalStateResetRule$1.evaluate(InternalStateResetRule.java:54)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.GcsResetRule$1.evaluate(GcsResetRule.java:29)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.postgresql.util.PSQLException: ERROR: Trying to create a patient-level identifier for a non-patient 1906\n  Where: PL/pgSQL function identifier_link_to_patient() line 8 at RAISE\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:268)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:39)\n\t... 24 more\n",
      "steps" : [ {
        "name" : "Execute DB update",
        "time" : {
          "start" : 1673400585441,
          "stop" : 1673400585448,
          "duration" : 7
        },
        "status" : "broken",
        "statusMessage" : "Error during SQL update",
        "statusTrace" : "com.pkb.selenium.framework.driver.exception.PKBSeleniumException: Error during SQL update\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:44)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:30)\n\tat com.pkb.selenium.util.DBQueries.updateNationalId(DBQueries.java:842)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.lambda$testPatientIdentifierToNonPatientConstraint$1(DatabaseConstraintTest.java:28)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:89)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:73)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint(DatabaseConstraintTest.java:28)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat com.pkb.selenium.watchers.ConfigureDetailedLoggingRule$1.evaluate(ConfigureDetailedLoggingRule.java:29)\n\tat com.pkb.selenium.watchers.LogTestNameRule$1.evaluate(LogTestNameRule.java:22)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.InternalStateResetRule$1.evaluate(InternalStateResetRule.java:54)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.GcsResetRule$1.evaluate(GcsResetRule.java:29)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.postgresql.util.PSQLException: ERROR: Trying to create a patient-level identifier for a non-patient 1906\n  Where: PL/pgSQL function identifier_link_to_patient() line 8 at RAISE\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:268)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:39)\n\t... 24 more\n",
        "steps" : [ {
          "name" : "Execute DB update",
          "time" : {
            "start" : 1673400585441,
            "stop" : 1673400585448,
            "duration" : 7
          },
          "status" : "broken",
          "statusMessage" : "Error during SQL update",
          "statusTrace" : "com.pkb.selenium.framework.driver.exception.PKBSeleniumException: Error during SQL update\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:44)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:30)\n\tat com.pkb.selenium.util.DBQueries.updateNationalId(DBQueries.java:842)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.lambda$testPatientIdentifierToNonPatientConstraint$1(DatabaseConstraintTest.java:28)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:89)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:73)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint(DatabaseConstraintTest.java:28)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat com.pkb.selenium.watchers.ConfigureDetailedLoggingRule$1.evaluate(ConfigureDetailedLoggingRule.java:29)\n\tat com.pkb.selenium.watchers.LogTestNameRule$1.evaluate(LogTestNameRule.java:22)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.InternalStateResetRule$1.evaluate(InternalStateResetRule.java:54)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.GcsResetRule$1.evaluate(GcsResetRule.java:29)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.postgresql.util.PSQLException: ERROR: Trying to create a patient-level identifier for a non-patient 1906\n  Where: PL/pgSQL function identifier_link_to_patient() line 8 at RAISE\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:268)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:39)\n\t... 24 more\n",
          "steps" : [ ],
          "attachments" : [ ],
          "parameters" : [ {
            "name" : "update",
            "value" : "INSERT INTO nationalid (id, type, value, person_id, editdate) VALUES ((SELECT max(id) FROM nationalid) + 1, 'NHS_NUMBER', '9876543210', (SELECT person_id FROM personcontact WHERE contactvalue = 'emis.privacy.officer@pkbtest.com'), now()) ON CONFLICT (type, person_id) DO UPDATE SET value = '9876543210'"
          }, {
            "name" : "database",
            "value" : "Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}"
          } ],
          "stepsCount" : 0,
          "attachmentsCount" : 0,
          "shouldDisplayMessage" : true,
          "hasContent" : true
        } ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "update",
          "value" : "INSERT INTO nationalid (id, type, value, person_id, editdate) VALUES ((SELECT max(id) FROM nationalid) + 1, 'NHS_NUMBER', '9876543210', (SELECT person_id FROM personcontact WHERE contactvalue = 'emis.privacy.officer@pkbtest.com'), now()) ON CONFLICT (type, person_id) DO UPDATE SET value = '9876543210'"
        }, {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        } ],
        "stepsCount" : 1,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "user",
        "value" : "User{email=emis.privacy.officer@pkbtest.com, password=P@55word, title=Mr, firstName=EMIS Privacy, lastName=Officer, teams=[], generateEmail=false}"
      }, {
        "name" : "nationalId",
        "value" : "NationalId{type=NHS, value=9876543210}"
      }, {
        "name" : "appGroup",
        "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
      } ],
      "stepsCount" : 2,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "updateNationalId",
      "time" : {
        "start" : 1673400585458,
        "stop" : 1673400585467,
        "duration" : 9
      },
      "status" : "broken",
      "statusMessage" : "Error during SQL update",
      "statusTrace" : "com.pkb.selenium.framework.driver.exception.PKBSeleniumException: Error during SQL update\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:44)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:30)\n\tat com.pkb.selenium.util.DBQueries.updateNationalId(DBQueries.java:842)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.lambda$testPatientIdentifierToNonPatientConstraint$2(DatabaseConstraintTest.java:30)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:89)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:73)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint(DatabaseConstraintTest.java:30)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat com.pkb.selenium.watchers.ConfigureDetailedLoggingRule$1.evaluate(ConfigureDetailedLoggingRule.java:29)\n\tat com.pkb.selenium.watchers.LogTestNameRule$1.evaluate(LogTestNameRule.java:22)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.InternalStateResetRule$1.evaluate(InternalStateResetRule.java:54)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.GcsResetRule$1.evaluate(GcsResetRule.java:29)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.postgresql.util.PSQLException: ERROR: Trying to create a patient-level identifier for a non-patient 1575\n  Where: PL/pgSQL function identifier_link_to_patient() line 8 at RAISE\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:268)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:39)\n\t... 24 more\n",
      "steps" : [ {
        "name" : "Execute DB update",
        "time" : {
          "start" : 1673400585458,
          "stop" : 1673400585467,
          "duration" : 9
        },
        "status" : "broken",
        "statusMessage" : "Error during SQL update",
        "statusTrace" : "com.pkb.selenium.framework.driver.exception.PKBSeleniumException: Error during SQL update\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:44)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:30)\n\tat com.pkb.selenium.util.DBQueries.updateNationalId(DBQueries.java:842)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.lambda$testPatientIdentifierToNonPatientConstraint$2(DatabaseConstraintTest.java:30)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:89)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:73)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint(DatabaseConstraintTest.java:30)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat com.pkb.selenium.watchers.ConfigureDetailedLoggingRule$1.evaluate(ConfigureDetailedLoggingRule.java:29)\n\tat com.pkb.selenium.watchers.LogTestNameRule$1.evaluate(LogTestNameRule.java:22)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.InternalStateResetRule$1.evaluate(InternalStateResetRule.java:54)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.GcsResetRule$1.evaluate(GcsResetRule.java:29)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.postgresql.util.PSQLException: ERROR: Trying to create a patient-level identifier for a non-patient 1575\n  Where: PL/pgSQL function identifier_link_to_patient() line 8 at RAISE\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:268)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:39)\n\t... 24 more\n",
        "steps" : [ {
          "name" : "Execute DB update",
          "time" : {
            "start" : 1673400585458,
            "stop" : 1673400585467,
            "duration" : 9
          },
          "status" : "broken",
          "statusMessage" : "Error during SQL update",
          "statusTrace" : "com.pkb.selenium.framework.driver.exception.PKBSeleniumException: Error during SQL update\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:44)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:30)\n\tat com.pkb.selenium.util.DBQueries.updateNationalId(DBQueries.java:842)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.lambda$testPatientIdentifierToNonPatientConstraint$2(DatabaseConstraintTest.java:30)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:89)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:73)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint(DatabaseConstraintTest.java:30)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat com.pkb.selenium.watchers.ConfigureDetailedLoggingRule$1.evaluate(ConfigureDetailedLoggingRule.java:29)\n\tat com.pkb.selenium.watchers.LogTestNameRule$1.evaluate(LogTestNameRule.java:22)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.InternalStateResetRule$1.evaluate(InternalStateResetRule.java:54)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.GcsResetRule$1.evaluate(GcsResetRule.java:29)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.postgresql.util.PSQLException: ERROR: Trying to create a patient-level identifier for a non-patient 1575\n  Where: PL/pgSQL function identifier_link_to_patient() line 8 at RAISE\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:268)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:39)\n\t... 24 more\n",
          "steps" : [ ],
          "attachments" : [ ],
          "parameters" : [ {
            "name" : "update",
            "value" : "INSERT INTO nationalid (id, type, value, person_id, editdate) VALUES ((SELECT max(id) FROM nationalid) + 1, 'NHS_NUMBER', '9876543210', (SELECT person_id FROM personcontact WHERE contactvalue = 'a.orgadmin.1@pkbtest.com'), now()) ON CONFLICT (type, person_id) DO UPDATE SET value = '9876543210'"
          }, {
            "name" : "database",
            "value" : "Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}"
          } ],
          "stepsCount" : 0,
          "attachmentsCount" : 0,
          "shouldDisplayMessage" : true,
          "hasContent" : true
        } ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "update",
          "value" : "INSERT INTO nationalid (id, type, value, person_id, editdate) VALUES ((SELECT max(id) FROM nationalid) + 1, 'NHS_NUMBER', '9876543210', (SELECT person_id FROM personcontact WHERE contactvalue = 'a.orgadmin.1@pkbtest.com'), now()) ON CONFLICT (type, person_id) DO UPDATE SET value = '9876543210'"
        }, {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        } ],
        "stepsCount" : 1,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "user",
        "value" : "User{email=a.orgadmin.1@pkbtest.com, password=P@55word, teams=[], generateEmail=false}"
      }, {
        "name" : "nationalId",
        "value" : "NationalId{type=NHS, value=9876543210}"
      }, {
        "name" : "appGroup",
        "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
      } ],
      "stepsCount" : 2,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "updateNationalId",
      "time" : {
        "start" : 1673400585474,
        "stop" : 1673400585486,
        "duration" : 12
      },
      "status" : "broken",
      "statusMessage" : "Error during SQL update",
      "statusTrace" : "com.pkb.selenium.framework.driver.exception.PKBSeleniumException: Error during SQL update\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:44)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:30)\n\tat com.pkb.selenium.util.DBQueries.updateNationalId(DBQueries.java:842)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.lambda$testPatientIdentifierToNonPatientConstraint$3(DatabaseConstraintTest.java:32)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:89)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:73)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint(DatabaseConstraintTest.java:32)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat com.pkb.selenium.watchers.ConfigureDetailedLoggingRule$1.evaluate(ConfigureDetailedLoggingRule.java:29)\n\tat com.pkb.selenium.watchers.LogTestNameRule$1.evaluate(LogTestNameRule.java:22)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.InternalStateResetRule$1.evaluate(InternalStateResetRule.java:54)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.GcsResetRule$1.evaluate(GcsResetRule.java:29)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.postgresql.util.PSQLException: ERROR: Trying to create a patient-level identifier for a non-patient 1660\n  Where: PL/pgSQL function identifier_link_to_patient() line 8 at RAISE\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:268)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:39)\n\t... 24 more\n",
      "steps" : [ {
        "name" : "Execute DB update",
        "time" : {
          "start" : 1673400585474,
          "stop" : 1673400585486,
          "duration" : 12
        },
        "status" : "broken",
        "statusMessage" : "Error during SQL update",
        "statusTrace" : "com.pkb.selenium.framework.driver.exception.PKBSeleniumException: Error during SQL update\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:44)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:30)\n\tat com.pkb.selenium.util.DBQueries.updateNationalId(DBQueries.java:842)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.lambda$testPatientIdentifierToNonPatientConstraint$3(DatabaseConstraintTest.java:32)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:89)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:73)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint(DatabaseConstraintTest.java:32)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat com.pkb.selenium.watchers.ConfigureDetailedLoggingRule$1.evaluate(ConfigureDetailedLoggingRule.java:29)\n\tat com.pkb.selenium.watchers.LogTestNameRule$1.evaluate(LogTestNameRule.java:22)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.InternalStateResetRule$1.evaluate(InternalStateResetRule.java:54)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.GcsResetRule$1.evaluate(GcsResetRule.java:29)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.postgresql.util.PSQLException: ERROR: Trying to create a patient-level identifier for a non-patient 1660\n  Where: PL/pgSQL function identifier_link_to_patient() line 8 at RAISE\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:268)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:39)\n\t... 24 more\n",
        "steps" : [ {
          "name" : "Execute DB update",
          "time" : {
            "start" : 1673400585474,
            "stop" : 1673400585486,
            "duration" : 12
          },
          "status" : "broken",
          "statusMessage" : "Error during SQL update",
          "statusTrace" : "com.pkb.selenium.framework.driver.exception.PKBSeleniumException: Error during SQL update\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:44)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:30)\n\tat com.pkb.selenium.util.DBQueries.updateNationalId(DBQueries.java:842)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.lambda$testPatientIdentifierToNonPatientConstraint$3(DatabaseConstraintTest.java:32)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:89)\n\tat com.github.karsaig.approvalcrest.MatcherAssert.assertThrows(MatcherAssert.java:73)\n\tat com.pkb.selenium.tests.database.DatabaseConstraintTest.testPatientIdentifierToNonPatientConstraint(DatabaseConstraintTest.java:32)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat com.pkb.selenium.watchers.ConfigureDetailedLoggingRule$1.evaluate(ConfigureDetailedLoggingRule.java:29)\n\tat com.pkb.selenium.watchers.LogTestNameRule$1.evaluate(LogTestNameRule.java:22)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.InternalStateResetRule$1.evaluate(InternalStateResetRule.java:54)\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\n\tat com.pkb.selenium.watchers.GcsResetRule$1.evaluate(GcsResetRule.java:29)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.postgresql.util.PSQLException: ERROR: Trying to create a patient-level identifier for a non-patient 1660\n  Where: PL/pgSQL function identifier_link_to_patient() line 8 at RAISE\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)\n\tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:268)\n\tat com.pkb.selenium.framework.helpers.QueryDBHelper.executeUpdate(QueryDBHelper.java:39)\n\t... 24 more\n",
          "steps" : [ ],
          "attachments" : [ ],
          "parameters" : [ {
            "name" : "update",
            "value" : "INSERT INTO nationalid (id, type, value, person_id, editdate) VALUES ((SELECT max(id) FROM nationalid) + 1, 'NHS_NUMBER', '9876543210', (SELECT person_id FROM personcontact WHERE contactvalue = 'ay.pro.1@pkbtest.com'), now()) ON CONFLICT (type, person_id) DO UPDATE SET value = '9876543210'"
          }, {
            "name" : "database",
            "value" : "Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}"
          } ],
          "stepsCount" : 0,
          "attachmentsCount" : 0,
          "shouldDisplayMessage" : true,
          "hasContent" : true
        } ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "update",
          "value" : "INSERT INTO nationalid (id, type, value, person_id, editdate) VALUES ((SELECT max(id) FROM nationalid) + 1, 'NHS_NUMBER', '9876543210', (SELECT person_id FROM personcontact WHERE contactvalue = 'ay.pro.1@pkbtest.com'), now()) ON CONFLICT (type, person_id) DO UPDATE SET value = '9876543210'"
        }, {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        } ],
        "stepsCount" : 1,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "user",
        "value" : "User{email=ay.pro.1@pkbtest.com, password=P@55word, title=Mr, firstName=Ay, lastName=Pro 1, teams=[], publicId=09191de8-0dc1-4705-8f65-b2a27171db65, generateEmail=false}"
      }, {
        "name" : "nationalId",
        "value" : "NationalId{type=NHS, value=9876543210}"
      }, {
        "name" : "appGroup",
        "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
      } ],
      "stepsCount" : 2,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "Verify every email sent by the test was handled",
      "time" : {
        "start" : 1673400585492,
        "stop" : 1673400585495,
        "duration" : 3
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "fetchEmails",
        "time" : {
          "start" : 1673400585492,
          "stop" : 1673400585493,
          "duration" : 1
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        } ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      }, {
        "name" : "fetchMailgunEmails",
        "time" : {
          "start" : 1673400585493,
          "stop" : 1673400585494,
          "duration" : 1
        },
        "status" : "passed",
        "steps" : [ {
          "name" : "removeRequests",
          "time" : {
            "start" : 1673400585493,
            "stop" : 1673400585494,
            "duration" : 1
          },
          "status" : "passed",
          "steps" : [ ],
          "attachments" : [ ],
          "parameters" : [ {
            "name" : "appGroup",
            "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
          }, {
            "name" : "json",
            "value" : "{\"url\": \"/fake-mailgun\"}"
          } ],
          "stepsCount" : 0,
          "attachmentsCount" : 0,
          "shouldDisplayMessage" : false,
          "hasContent" : true
        } ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "appGroup",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        } ],
        "stepsCount" : 1,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "message",
        "value" : "Not asserted email(s) found, update test & page object!"
      } ],
      "stepsCount" : 3,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "Assert no unexpected error reports were sent to Rollbar",
      "time" : {
        "start" : 1673400585495,
        "stop" : 1673400585501,
        "duration" : 6
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "applyLinkFilters",
        "time" : {
          "start" : 1673400585501,
          "stop" : 1673400585501,
          "duration" : 0
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "input",
          "value" : "[]"
        }, {
          "name" : "filters",
          "value" : "[com.pkb.selenium.framework.helpers.TextFilter@2462cdc2, com.pkb.selenium.framework.helpers.TextFilter@3f45bc5e]"
        } ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      }, {
        "name" : "applyHrefFilters",
        "time" : {
          "start" : 1673400585501,
          "stop" : 1673400585501,
          "duration" : 0
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "input",
          "value" : "[]"
        }, {
          "name" : "filters",
          "value" : "[com.pkb.selenium.framework.helpers.HrefFilter@6630bdf9, com.pkb.selenium.framework.helpers.HrefFilter@d0a964f, com.pkb.selenium.framework.helpers.HrefFilter@3fb446f1, com.pkb.selenium.framework.helpers.HrefFilter@2d01ba15, com.pkb.selenium.framework.helpers.HrefFilter@4e3d0539, com.pkb.selenium.framework.helpers.HrefFilter@17dc5a5f, com.pkb.selenium.framework.helpers.HrefFilter@a42159b, com.pkb.selenium.framework.helpers.HrefFilter@2a33d7d4, com.pkb.selenium.framework.helpers.HrefFilter@c811b66, com.pkb.selenium.framework.helpers.HrefFilter@797ab60b, com.pkb.selenium.framework.helpers.HrefFilter@638e8a72, com.pkb.selenium.framework.helpers.HrefFilter@57376ca0, com.pkb.selenium.framework.helpers.HrefFilter@5369070b, com.pkb.selenium.framework.helpers.HrefFilter@7f8f3983, com.pkb.selenium.framework.helpers.HrefFilter@68c5e11a, com.pkb.selenium.framework.helpers.HrefFilter@4fbd2ce, com.pkb.selenium.framework.helpers.HrefFilter@1f31dc05, com.pkb.selenium.framework.helpers.HrefFilter@19f4ad41, com.pkb.selenium.framework.helpers.HrefFilter@5e7e5254, com.pkb.selenium.framework.helpers.HrefFilter@4c996f7, com.pkb.selenium.framework.helpers.HrefFilter@1509a39f, com.pkb.selenium.framework.helpers.HrefFilter@292b8ada, com.pkb.selenium.framework.helpers.HrefFilter@56b9159, com.pkb.selenium.framework.helpers.HrefFilter@4dddd12d, com.pkb.selenium.framework.helpers.HrefFilter@15109652, com.pkb.selenium.framework.helpers.HrefFilter@6018a370, com.pkb.selenium.framework.helpers.HrefFilter@39200773, com.pkb.selenium.framework.helpers.HrefFilter@1ad7edc3, com.pkb.selenium.framework.helpers.HrefFilter@b645acd, com.pkb.selenium.framework.helpers.HrefFilter@2e426bf2, com.pkb.selenium.framework.helpers.HrefFilter@1760fad6, com.pkb.selenium.framework.helpers.HrefFilter@32fca40c, com.pkb.selenium.framework.helpers.HrefFilter@1be732ac, com.pkb.selenium.framework.helpers.HrefFilter@2647d7d9, com.pkb.selenium.framework.helpers.HrefFilter@36613f8d, com.pkb.selenium.framework.helpers.HrefFilter@61ea2189, com.pkb.selenium.framework.helpers.HrefFilter@43ba0d4a, com.pkb.selenium.framework.helpers.HrefFilter@5bdbe3fb, com.pkb.selenium.framework.helpers.HrefFilter@6479325a, com.pkb.selenium.framework.helpers.HrefFilter@54afa135, com.pkb.selenium.framework.helpers.HrefFilter@47ec36b7, com.pkb.selenium.framework.helpers.HrefFilter@432cc18a, com.pkb.selenium.framework.helpers.HrefFilter@6eeac057, com.pkb.selenium.framework.helpers.HrefFilter@47e562b6, com.pkb.selenium.framework.helpers.HrefFilter@619aad73, com.pkb.selenium.framework.helpers.HrefFilter@449f005b, com.pkb.selenium.framework.helpers.HrefFilter@7c4f88e7, com.pkb.selenium.framework.helpers.HrefFilter@1053b50a, com.pkb.selenium.framework.helpers.HrefFilter@24967346, com.pkb.selenium.framework.helpers.HrefFilter@18373257, com.pkb.selenium.framework.helpers.HrefFilter@18bf8906, com.pkb.selenium.framework.helpers.HrefFilter@15c984fe, com.pkb.selenium.framework.helpers.HrefFilter@252c942, com.pkb.selenium.framework.helpers.HrefFilter@2356f6d5, com.pkb.selenium.framework.helpers.HrefFilter@47c5bc00, com.pkb.selenium.framework.helpers.HrefFilter@1e722e72, com.pkb.selenium.framework.helpers.HrefFilter@a7eec27, com.pkb.selenium.framework.helpers.HrefFilter@1e0a53e3, com.pkb.selenium.framework.helpers.HrefFilter@7445d99e, com.pkb.selenium.framework.helpers.HrefFilter@7bcb78da, com.pkb.selenium.framework.helpers.HrefFilter@629bc50, com.pkb.selenium.framework.helpers.HrefFilter@4a70723d, com.pkb.selenium.framework.helpers.HrefFilter@1023dbc4]"
        } ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "description",
        "value" : "testPatientIdentifierToNonPatientConstraint(com.pkb.selenium.tests.database.DatabaseConstraintTest)"
      } ],
      "stepsCount" : 2,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "Assert requestss sent to FreshDesk",
      "time" : {
        "start" : 1673400585501,
        "stop" : 1673400585503,
        "duration" : 2
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Cleanup after test",
      "time" : {
        "start" : 1673400585503,
        "stop" : 1673400585503,
        "duration" : 0
      },
      "status" : "passed",
      "steps" : [ {
        "name" : "returnAppGroupToPool",
        "time" : {
          "start" : 1673400585503,
          "stop" : 1673400585503,
          "duration" : 0
        },
        "status" : "passed",
        "steps" : [ ],
        "attachments" : [ ],
        "parameters" : [ {
          "name" : "group",
          "value" : "AppGroup{applicationUrl=http://pkb-frontend-9, appUrlExternal=http://pkb-frontend-9, phoenixApplicationUrl=http://phoenix-frontend-9, buildProperties={git.tags=, git.build.version=0.0.0-SNAPSHOT, git.branch=develop, git.build.host=Ubuntu-2004-focal-64-minimal, git.build.number=33400, git.commit.id=2a6f0a3b47027c6a147c45374cfd16eed00127b2, git.commit.user.email=gabor@patientsknowbest.com, git.build.number.unique=279760, git.commit.author.time=2023-01-10T23:16:16+0100, git.local.branch.behind=0, git.build.user.name=, git.dirty=true, git.closest.tag.commit.count=79, git.commit.user.name=Gabor Karsai, git.commit.id.abbrev=2a6f0a3, git.commit.id.describe-short=570-RC1-79, git.total.commit.count=65961, git.commit.id.describe=570-RC1-79-g2a6f0a3, git.commit.committer.time=2023-01-10T23:16:16+0100, git.build.user.email=, git.commit.message.short=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381, git.closest.tag.name=570-RC1, git.local.branch.ahead=0, git.commit.time=2023-01-10T23:16:16+0100, git.build.time=2023-01-10T23:32:11+0100, git.commit.message.full=Merge pull request #6600 from patientsknowbest/dependabot/maven/pkb-end2end/com.amazonaws-aws-java-sdk-s3-1.12.381\n\nBump aws-java-sdk-s3 from 1.12.380 to 1.12.381 in /pkb-end2end, git.remote.origin.url=https://github.com/patientsknowbest/phr}, proxyProperties=ProxyProperties{proxyUrl=http://browsermob-9:39500, sslProxyUrl=https://browsermob-9:39500, apiUrl=http://browsermob-9:80, rewriteRules=[]}, testControlUrl=http://test-control-9:9876, smtpUrl=http://pkb-smtp-9:8000, hl7Url=http://pkb-pie-9:9999/services/hl7, emisSftpData={testEmisSftp1=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp1}, testEmisSftp2=EmisSftpConfig{hostname=emis-sftp-9, port=22, userName=emis, password=P@55word, remoteDirectory=/emisRemoteDir/testEmisSftp2}}, emisGcpServiceEndpoint=http://fakes3service-9:9090, fakeHttpUrl=http://fakehttp-server-9, fakeHttpUrlExternal=http://fakehttp-server-9, externalManagementUrl=http://external-management-9.com/external-management, oauth2Uri=http://oauth2-endpoint-9:8080, kmsUri=http://kms-selenium-9:8080, pathfindersproxyUrl=http://pathfindersproxy-selenium-9:8007, messageHasherUri=http://message-hasher-selenium-9:8080, tcpProxyHost=toxiproxy-9, tcpProxyPort=8474, nhsAuthorizationServerUri=http://fakehttp-server-9/fakenhs, openIdClientBaseUrl=http://pkb-frontend-9/nhs-login/, openIdClientBaseUrlExternal=http://pkb-frontend-9/nhs-login/, openIdTestSupportConnectTimeoutMillis=1000, openIdTestSupportReadTimeoutMillis=3000, backgroundtasksUrl=http://backgroundtasks-9:8080, questionnaireServiceUrl=http://questionnaireservice-9:8080, gcsUrl=http://gcs-9:4443, gcsResetUrl=http://gcs-9:4445/resetGcs, pubsubEmulatorUrl=pubsub-9:8085, fhirwallHost=aggregated-fhir.uk.patientsknowbest.com-9, wayfinderHost=wayfinder-aggregated-fhir.uk.patientsknowbest.com-9, fhirwallUrlExternal=http://192.168.144.140:8080, fakeExternalWebsite=http://fake-external-website, fakeS3External=http://fakes3service-9:9090, keycloakUrl=http://keycloak-9:8080, keycloakUrlExternal=http://keycloak-9:8080, multiboxUrlExternal=http://multibox-9:8080, aidboxCustomer1Url=http://customer1.multibox-9:8080, aidboxPhrMigratedUrl=http://phrmigrated.multibox-9:8080, aidboxAggregatedUrl=http://aggregated.multibox-9:8080, ehrDataMigratorUrlExternal=http://192.168.144.203:8080, customer1=Client{clientId=cust-1, clientSecret=wmiYz6gvqgEnsOodqwX4jTiqWbXZAGIO}, aggregator=Client{clientId=aggregator, clientSecret=xso3S3TXqXLlV1dzn7erHWsPvefqudV8}, ehrmigrator=Client{clientId=ehrmigrator, clientSecret=KWAN5aV9L3nNpHpgfiPCPW55JqqHwi1y}, fhirwall=Client{clientId=fhirwall, clientSecret=T7rO7TD8Zt6UoytlQGfnNUYagjmMEMUf}, backgroundtasks=Client{clientId=backgroundtasks, clientSecret=XPYawLvnC6k4LNhIj7B2YL1Jmq900WFi}, phrDb=Database{host=pkb-postgres-9, port=5432, name=postgres, user=postgres, password=postgres}, ehrMigrDb=Database{host=ehrmigr-db-9, port=5432, name=ehrmigr, user=ehrmigr, password=XTPjxjIWqFAgWAqjpwPTJyjJomoVOOhZ}}"
        } ],
        "stepsCount" : 0,
        "attachmentsCount" : 0,
        "shouldDisplayMessage" : false,
        "hasContent" : true
      } ],
      "attachments" : [ ],
      "parameters" : [ {
        "name" : "description",
        "value" : "testPatientIdentifierToNonPatientConstraint(com.pkb.selenium.tests.database.DatabaseConstraintTest)"
      } ],
      "stepsCount" : 1,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 43,
    "attachmentsCount" : 2,
    "shouldDisplayMessage" : false,
    "hasContent" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "package",
    "value" : "com.pkb.selenium.tests.database"
  }, {
    "name" : "testClass",
    "value" : "com.pkb.selenium.tests.database.DatabaseConstraintTest"
  }, {
    "name" : "testMethod",
    "value" : "testPatientIdentifierToNonPatientConstraint"
  }, {
    "name" : "suite",
    "value" : "com.pkb.selenium.tests.database.DatabaseConstraintTest"
  }, {
    "name" : "host",
    "value" : "939d92cca620"
  }, {
    "name" : "thread",
    "value" : "164@939d92cca620.pool-3-thread-12(43)"
  }, {
    "name" : "framework",
    "value" : "junit4"
  }, {
    "name" : "language",
    "value" : "java"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ {
    "name" : "PHR-11036",
    "type" : "issue"
  } ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ ],
    "history" : {
      "statistic" : {
        "failed" : 0,
        "broken" : 0,
        "skipped" : 0,
        "passed" : 17,
        "unknown" : 0,
        "total" : 17
      },
      "items" : [ {
        "uid" : "494a613bfaa96853",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/279611:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/494a613bfaa96853",
        "status" : "passed",
        "time" : {
          "start" : 1673380531224,
          "stop" : 1673380535332,
          "duration" : 4108
        }
      }, {
        "uid" : "9d1ae9a324fbdec6",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/279580:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/9d1ae9a324fbdec6",
        "status" : "passed",
        "time" : {
          "start" : 1673377817021,
          "stop" : 1673377821618,
          "duration" : 4597
        }
      }, {
        "uid" : "6cd48fadea6b31b2",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/279392:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/6cd48fadea6b31b2",
        "status" : "passed",
        "time" : {
          "start" : 1673327509620,
          "stop" : 1673327514658,
          "duration" : 5038
        }
      }, {
        "uid" : "944aec05ae98f786",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/279102:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/944aec05ae98f786",
        "status" : "passed",
        "time" : {
          "start" : 1673143900600,
          "stop" : 1673143905205,
          "duration" : 4605
        }
      }, {
        "uid" : "d8b3e094de2a2cc8",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/279089:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/d8b3e094de2a2cc8",
        "status" : "passed",
        "time" : {
          "start" : 1673093989583,
          "stop" : 1673093994042,
          "duration" : 4459
        }
      }, {
        "uid" : "89531de9dc498aca",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/279076:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/89531de9dc498aca",
        "status" : "passed",
        "time" : {
          "start" : 1673093909885,
          "stop" : 1673093914226,
          "duration" : 4341
        }
      }, {
        "uid" : "841add80e9548015",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/279005:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/841add80e9548015",
        "status" : "passed",
        "time" : {
          "start" : 1673042888938,
          "stop" : 1673042893940,
          "duration" : 5002
        }
      }, {
        "uid" : "f4fcead6d1a246e0",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/278754:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/f4fcead6d1a246e0",
        "status" : "passed",
        "time" : {
          "start" : 1673019006727,
          "stop" : 1673019011992,
          "duration" : 5265
        }
      }, {
        "uid" : "b03e1e42dc9ba0a7",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/278684:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/b03e1e42dc9ba0a7",
        "status" : "passed",
        "time" : {
          "start" : 1673006575836,
          "stop" : 1673006579992,
          "duration" : 4156
        }
      }, {
        "uid" : "35b88ef406ab9b6f",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/278665:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/35b88ef406ab9b6f",
        "status" : "passed",
        "time" : {
          "start" : 1672968521295,
          "stop" : 1672968525649,
          "duration" : 4354
        }
      }, {
        "uid" : "fbb62d90b64402b6",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/278554:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/fbb62d90b64402b6",
        "status" : "passed",
        "time" : {
          "start" : 1672947223163,
          "stop" : 1672947227397,
          "duration" : 4234
        }
      }, {
        "uid" : "ae013a2861364e17",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/278495:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/ae013a2861364e17",
        "status" : "passed",
        "time" : {
          "start" : 1672939571270,
          "stop" : 1672939575548,
          "duration" : 4278
        }
      }, {
        "uid" : "dfe3a1e2cd029047",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/278345:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/dfe3a1e2cd029047",
        "status" : "passed",
        "time" : {
          "start" : 1672896140590,
          "stop" : 1672896145444,
          "duration" : 4854
        }
      }, {
        "uid" : "e213aaa9d11b012d",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/278324:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/e213aaa9d11b012d",
        "status" : "passed",
        "time" : {
          "start" : 1672878608175,
          "stop" : 1672878612553,
          "duration" : 4378
        }
      }, {
        "uid" : "b207fb7694a1cd6e",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/277913:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/b207fb7694a1cd6e",
        "status" : "passed",
        "time" : {
          "start" : 1672837817889,
          "stop" : 1672837823062,
          "duration" : 5173
        }
      }, {
        "uid" : "b65f7f751e6cd1b8",
        "reportUrl" : "https://ci.pkb.io//repository/download/phr_SeleniumTests/277873:id/allure-report.zip!/ui-tests/index.html?branch=develop/#testresult/b65f7f751e6cd1b8",
        "status" : "passed",
        "time" : {
          "start" : 1672833172867,
          "stop" : 1672833177868,
          "duration" : 5001
        }
      } ]
    },
    "tags" : [ ]
  },
  "source" : "c49762e59203ba8e.json",
  "parameterValues" : [ ]
}